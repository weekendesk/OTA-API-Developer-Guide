
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>OTA API Developer Guide</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;xml&quot;,&quot;shell&quot;,&quot;php&quot;,&quot;csharp&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" height="150" width="150" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="xml">xml</a>
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="csharp">csharp</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#ota-standard" class="toc-h1 toc-link" data-title="OTA Standard">OTA Standard</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#description" class="toc-h2 toc-link" data-title="OTA Standard">Description</a>
                  </li>
                  <li>
                    <a href="#messages" class="toc-h2 toc-link" data-title="OTA Standard">Messages</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#setup" class="toc-h1 toc-link" data-title="Setup">Setup</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Setup">Authentication</a>
                  </li>
                  <li>
                    <a href="#testing-the-connectivity" class="toc-h2 toc-link" data-title="Setup">Testing the connectivity</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#retrieve-rooms" class="toc-h1 toc-link" data-title="Retrieve Rooms">Retrieve Rooms</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#mapping" class="toc-h2 toc-link" data-title="Retrieve Rooms">Mapping</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ari-updates" class="toc-h1 toc-link" data-title="ARI Updates">ARI Updates</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-availability" class="toc-h2 toc-link" data-title="ARI Updates">Update Availability</a>
                  </li>
                  <li>
                    <a href="#update-restrictions" class="toc-h2 toc-link" data-title="ARI Updates">Update Restrictions</a>
                  </li>
                  <li>
                    <a href="#update-inventory" class="toc-h2 toc-link" data-title="ARI Updates">Update Inventory</a>
                  </li>
                  <li>
                    <a href="#multiple-updates" class="toc-h2 toc-link" data-title="ARI Updates">Multiple Updates</a>
                  </li>
                  <li>
                    <a href="#update-rates" class="toc-h2 toc-link" data-title="ARI Updates">Update Rates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ari-read-beta-test" class="toc-h1 toc-link" data-title="ARI Read (Beta Test)">ARI Read (Beta Test)</a>
          </li>
          <li>
            <a href="#reservation-delivery" class="toc-h1 toc-link" data-title="Reservation Delivery">Reservation Delivery</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#receive-booking-notifications" class="toc-h2 toc-link" data-title="Reservation Delivery">Receive Booking Notifications</a>
                  </li>
                  <li>
                    <a href="#booking-response" class="toc-h2 toc-link" data-title="Reservation Delivery">Booking Response</a>
                  </li>
                  <li>
                    <a href="#receive-cancel-notifications" class="toc-h2 toc-link" data-title="Reservation Delivery">Receive Cancel Notifications</a>
                  </li>
                  <li>
                    <a href="#cancellation-response" class="toc-h2 toc-link" data-title="Reservation Delivery">Cancellation Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.weekendesk.fr' target='_blank'>Weekendesk Website</a></li>
            <li><a href='http://partners.weekendesk.com' target='_blank'>Partner Extranet</a></li>
            <li><a href='http://test-partners.weekendesk.com' target='_blank'>TEST - Partner Extranet</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>This document describes the interface specifications between the Weekendesk and a Channel Manager partner.<br>
The interface developed by the Channel partner, according to the specifications present in this document, will allow a “2-ways” communication which will provide the following features:<br></p>

<ol>
<li><strong>ARI updates</strong>: Availability&amp;Restrictions, Rates and Inventory are received from Channel partner and saved into Weekendesk inventory system</li>
<li><strong>Booking Notifications</strong>: Reservations as soon as they are confirmed on Weekendesk front Website are PUSHed to the channel partner. When a reservation is cancelled a Cancellation notification is also PUSHed to the channel system.</li>
</ol>

<p>Following this document, the Channel Manager partner can develop a web-service (client side) that will be compatible with Weekendesk inventory system (server side).</p>
<h1 id='ota-standard'>OTA Standard</h1><h2 id='description'>Description</h2>
<p>XML messages exchanged by the standard interface are based on standard Open Travel Alliance (OTA) 2003B.<br>
For further information on these standards, please consult:<br></p>

<p><b>OTA</b>:<a href='http://www.opentravel.org' target='blank'>http://www.opentravel.org</a><br>
<b>XMLSchema</b>:<a href='http://www.w3.org/2001/XMLSchema' target='blank'>http://www.w3.org/2001/XMLSchema</a></p>
<h2 id='messages'>Messages</h2>
<p>The standard interface of Weekendesk handles several cases based on the following OTA messages:</p>
<h3 id='ota_ping'>OTA_Ping</h3>
<p>The Ping RQ/RS allows the channel partner to test the connectivity is working.</p>
<h3 id='ota_hotelroomlist'>OTA_HotelRoomList</h3>
<p>The RoomList RQ/RS is used by the channel partner to map the Weekendesk rooms and rate plans with the ones on its system.</p>
<h3 id='ota_hotelavailnotif'>OTA_HotelAvailNotif</h3>
<p>The Availability Notification RQ/RS allows the channel partner to send Availability, Restrictions and Booking Limits to Weekendesk for each rate plan mapped in its system.</p>
<h3 id='ota_hotelrateamountnotif'>OTA_HotelRateAmountNotif</h3>
<p>The Rates Amount Notification RQ/RS allows the channel partner to send prices for each rate that is mapped in its system.</p>
<h1 id='setup'>Setup</h1>
<p>In this section it will be described all necessary steps to get your connectivity up and running.
<br>
Important things to remember before starting:
 <ul> - Every message will be exchanged on HTTP transport layer via HTTP POST method. </ul>
 <ul> - Request the credentials to your technical contact at Weekendesk in order to start making requests.</ul>
<ul> - A login and a password to connect to the Extranet may be requested and provided to the channel.</ul></p>

<aside class="success">
Remember - Before starting <b>send the list of IPs</b> and <b>the Endpoint for Reservation Delivery</b> you will be using both in testing and production to your technical contact at Weekendesk.
</aside>
<h2 id='authentication'>Authentication</h2>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code>  Basic Auth user:password
</code></pre><pre class="highlight shell tab-shell"><code>  <span class="nb">echo</span> -n <span class="s1">'102 iateasha'</span> | base64
</code></pre><pre class="highlight php tab-php"><code>$header = "Authorization: Basic " . base64_encode($username . ':' . $password);
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">No</span> <span class="n">command</span> <span class="n">found</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">No</span> <span class="n">command</span> <span class="n">found</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>TEStTesttEsTt3st</code> with your Basic Authentication.</p>
</blockquote>

<p>Weekendesk uses Basic Authentication to authenticate all requests. You can request your user and password at your technical point of contact in Weekendesk.</p>

<p>Weekendesk expects for the Basic Authentication to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: Basic TEStTesttEsTt3st</code></p>

<aside class="notice">
You must replace <code>TEStTesttEsTt3st</code> with your user and password encrypted in base64_encode.
</aside>
<h2 id='testing-the-connectivity'>Testing the connectivity</h2>
<p>This message is used to test that the connectivity is working, your IPs whitelisted and basic authentication you are using is correct.</p>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_PingRQ</span> <span class="na">Version=</span><span class="s">"3.00"</span> <span class="na">TimeStamp=</span><span class="s">"2008-05-29T10:58:21"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/OTA_PingRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl
  -X POST
  -H <span class="s2">"Content-Type: text/xml"</span>
  -H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
  -d <span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_PingRQ Version="3.0" TimeStamp="2008-05-29T10:58:21"&gt;
&lt;/OTA_PingRQ&gt;'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_PingRQ version="3.0"" TimeStamp="2008-05-29T10:58:21"&gt;
&lt;/OTA_PingRQ&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;OTA_PingRQ Version=\"1.01\" TimeStamp=\"2008-05-29T10:58:21\"&gt;\n&lt;/OTA_PingRQ&gt;"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;OTA_PingRQ Version=\"1.01\" TimeStamp=\"2008-05-29T10:58:21\"&gt;\n&lt;/OTA_PingRQ&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8" standalone="no"?&gt;</span>
<span class="nt">&lt;OTA_PingRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="na">TimeStamp=</span><span class="s">""</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success/&gt;</span>
<span class="nt">&lt;/OTA_PingRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span> <span class="nv">standalone</span><span class="o">=</span><span class="s2">"no"</span>?&gt;
&lt;OTA_PingRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span> <span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">""</span>&gt;
    &lt;Success/&gt;
&lt;/OTA_PingRS&gt;
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span> <span class="nx">standalone</span><span class="o">=</span><span class="s2">"no"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_PingRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="na">TimeStamp=</span><span class="s">""</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success/&gt;</span>
<span class="err">&lt;</span>/OTA_PingRS&gt;
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="p">=</span><span class="s">"UTF-8"</span> <span class="n">standalone</span><span class="p">=</span><span class="s">"no"</span><span class="p">?&gt;</span>
<span class="p">&lt;</span><span class="n">OTA_PingRS</span> <span class="n">xmlns</span><span class="p">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="n">TimeStamp</span><span class="p">=</span><span class="s">""</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">Success</span><span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="n">OTA_PingRS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span> <span class="n">standalone</span><span class="o">=</span><span class="s">"no"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_PingRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="n">TimeStamp</span><span class="o">=</span><span class="s">""</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_PingRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h1 id='retrieve-rooms'>Retrieve Rooms</h1><h2 id='mapping'>Mapping</h2>
<p>In order to start updating the information into the Weekendesk system you will have to map the IDs of the Room and RatePlans with the ones within your system.<br>
Weekendesk allows you to do that by using the OTA_HotelRoomList request which fetch all rooms and rate plans given a certain Weekendesk HotelID.</p>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelRoomListRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;POS&gt;</span>
    <span class="nt">&lt;Source&gt;</span>
       <span class="nt">&lt;RequestorID</span> <span class="na">Type=</span><span class="s">"1"</span> <span class="na">ID=</span><span class="s">"AL_TEST"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Source&gt;</span>
 <span class="nt">&lt;/POS&gt;</span>
 <span class="nt">&lt;HotelRoomLists&gt;</span>
    <span class="nt">&lt;HotelRoomList</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/HotelRoomLists&gt;</span>
<span class="nt">&lt;/OTA_HotelRoomListRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl
 -X POST
 -H <span class="s2">"Content-Type: text/xml"</span>
 -H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
 -H <span class="s2">"Cache-Control: no-cache"</span>
 -d <span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_HotelRoomListRQ xmlns="http://www.opentravel.org/OTA/2003/05" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
 &lt;POS&gt;
    &lt;Source&gt;
       &lt;RequestorID Type="1" ID="AL_TEST" /&gt;
    &lt;/Source&gt;
 &lt;/POS&gt;
 &lt;HotelRoomLists&gt;
    &lt;HotelRoomList /&gt;
 &lt;/HotelRoomLists&gt;
&lt;/OTA_HotelRoomListRQ&gt;'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_HotelRoomListRQ xmlns="http://www.opentravel.org/OTA/2003/05" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;POS&gt;
      &lt;Source&gt;
         &lt;RequestorID Type="1" ID="AL_TEST" /&gt;
      &lt;/Source&gt;
   &lt;/POS&gt;
   &lt;HotelRoomLists&gt;
      &lt;HotelRoomList /&gt;
   &lt;/HotelRoomLists&gt;
&lt;/OTA_HotelRoomListRQ&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;OTA_HotelRoomListRQ xmlns=\"http://www.opentravel.org/OTA/2003/05\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\r\n   &lt;POS&gt;\r\n      &lt;Source&gt;\r\n         &lt;RequestorID Type=\"1\" ID=\"AL_TEST\" /&gt;\r\n      &lt;/Source&gt;\r\n   &lt;/POS&gt;\r\n   &lt;HotelRoomLists&gt;\r\n      &lt;HotelRoomList /&gt;\r\n   &lt;/HotelRoomLists&gt;\r\n&lt;/OTA_HotelRoomListRQ&gt;"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;OTA_HotelRoomListRQ xmlns=\"http://www.opentravel.org/OTA/2003/05\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\r\n   &lt;POS&gt;\r\n      &lt;Source&gt;\r\n         &lt;RequestorID Type=\"1\" ID=\"AL_TEST\" /&gt;\r\n      &lt;/Source&gt;\r\n   &lt;/POS&gt;\r\n   &lt;HotelRoomLists&gt;\r\n      &lt;HotelRoomList /&gt;\r\n   &lt;/HotelRoomLists&gt;\r\n&lt;/OTA_HotelRoomListRQ&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelRoomListRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="na">Version=</span><span class="s">"2.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;HotelRoomLists&gt;</span>
        <span class="nt">&lt;HotelRoomList</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RoomStays&gt;</span>
                <span class="nt">&lt;RoomStay&gt;</span>
                    <span class="nt">&lt;RoomTypes&gt;</span>
                        <span class="nt">&lt;RoomType</span> <span class="na">IsRoom=</span><span class="s">"true"</span> <span class="na">RoomID=</span><span class="s">"RO_TEST"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;RoomDescription</span> <span class="na">Name=</span><span class="s">"Test"</span> <span class="nt">/&gt;</span>
                        <span class="nt">&lt;/RoomType&gt;</span>
                    <span class="nt">&lt;/RoomTypes&gt;</span>
                    <span class="nt">&lt;RatePlans&gt;</span>
                        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanName=</span><span class="s">"BAR"</span> <span class="na">RatePlanID=</span><span class="s">"001"</span> <span class="nt">/&gt;</span>
                        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanName=</span><span class="s">"SALE"</span> <span class="na">RatePlanID=</span><span class="s">"003"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/RatePlans&gt;</span>
                <span class="nt">&lt;/RoomStay&gt;</span>
            <span class="nt">&lt;/RoomStays&gt;</span>
        <span class="nt">&lt;/HotelRoomList&gt;</span>
    <span class="nt">&lt;/HotelRoomLists&gt;</span>
<span class="nt">&lt;/OTA_HotelRoomListRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelRoomListRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"2.0"</span>&gt;
    &lt;Success /&gt;
    &lt;HotelRoomLists&gt;
        &lt;HotelRoomList <span class="nv">HotelCode</span><span class="o">=</span><span class="s2">"AL_TEST"</span>&gt;
            &lt;RoomStays&gt;
                &lt;RoomStay&gt;
                    &lt;RoomTypes&gt;
                        &lt;RoomType <span class="nv">IsRoom</span><span class="o">=</span><span class="s2">"true"</span> <span class="nv">RoomID</span><span class="o">=</span><span class="s2">"RO_TEST"</span>&gt;
                            &lt;RoomDescription <span class="nv">Name</span><span class="o">=</span><span class="s2">"Test"</span> /&gt;
                        &lt;/RoomType&gt;
                    &lt;/RoomTypes&gt;
                    &lt;RatePlans&gt;
                        &lt;RatePlan <span class="nv">RatePlanName</span><span class="o">=</span><span class="s2">"BAR"</span> <span class="nv">RatePlanID</span><span class="o">=</span><span class="s2">"001"</span> /&gt;
                        &lt;RatePlan <span class="nv">RatePlanName</span><span class="o">=</span><span class="s2">"SALE"</span> <span class="nv">RatePlanID</span><span class="o">=</span><span class="s2">"003"</span> /&gt;
                    &lt;/RatePlans&gt;
                &lt;/RoomStay&gt;
            &lt;/RoomStays&gt;
        &lt;/HotelRoomList&gt;
    &lt;/HotelRoomLists&gt;
&lt;/OTA_HotelRoomListRS&gt;
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_HotelRoomListRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="na">Version=</span><span class="s">"2.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;HotelRoomLists&gt;</span>
        <span class="nt">&lt;HotelRoomList</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RoomStays&gt;</span>
                <span class="nt">&lt;RoomStay&gt;</span>
                    <span class="nt">&lt;RoomTypes&gt;</span>
                        <span class="nt">&lt;RoomType</span> <span class="na">IsRoom=</span><span class="s">"true"</span> <span class="na">RoomID=</span><span class="s">"RO_TEST"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;RoomDescription</span> <span class="na">Name=</span><span class="s">"Test"</span> <span class="nt">/&gt;</span>
                        <span class="nt">&lt;/RoomType&gt;</span>
                    <span class="nt">&lt;/RoomTypes&gt;</span>
                    <span class="nt">&lt;RatePlans&gt;</span>
                        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanName=</span><span class="s">"BAR"</span> <span class="na">RatePlanID=</span><span class="s">"001"</span> <span class="nt">/&gt;</span>
                        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanName=</span><span class="s">"SALE"</span> <span class="na">RatePlanID=</span><span class="s">"003"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/RatePlans&gt;</span>
                <span class="nt">&lt;/RoomStay&gt;</span>
            <span class="nt">&lt;/RoomStays&gt;</span>
        <span class="nt">&lt;/HotelRoomList&gt;</span>
    <span class="nt">&lt;/HotelRoomLists&gt;</span>
<span class="err">&lt;</span>/OTA_HotelRoomListRS&gt;
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="p">=</span><span class="s">"UTF-8"</span><span class="p">?&gt;</span>
<span class="p">&lt;</span><span class="n">OTA_HotelRoomListRS</span> <span class="n">xmlns</span><span class="p">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="n">Version</span><span class="p">=</span><span class="s">"2.0"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">Success</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="n">HotelRoomLists</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="n">HotelRoomList</span> <span class="n">HotelCode</span><span class="p">=</span><span class="s">"AL_TEST"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="n">RoomStays</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">RoomStay</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="n">RoomTypes</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="n">RoomType</span> <span class="n">IsRoom</span><span class="p">=</span><span class="s">"true"</span> <span class="n">RoomID</span><span class="p">=</span><span class="s">"RO_TEST"</span><span class="p">&gt;</span>
                            <span class="p">&lt;</span><span class="n">RoomDescription</span> <span class="n">Name</span><span class="p">=</span><span class="s">"Test"</span> <span class="p">/&gt;</span>
                        <span class="p">&lt;/</span><span class="n">RoomType</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="n">RoomTypes</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="n">RatePlans</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="n">RatePlan</span> <span class="n">RatePlanName</span><span class="p">=</span><span class="s">"BAR"</span> <span class="n">RatePlanID</span><span class="p">=</span><span class="s">"001"</span> <span class="p">/&gt;</span>
                        <span class="p">&lt;</span><span class="n">RatePlan</span> <span class="n">RatePlanName</span><span class="p">=</span><span class="s">"SALE"</span> <span class="n">RatePlanID</span><span class="p">=</span><span class="s">"003"</span> <span class="p">/&gt;</span>
                    <span class="p">&lt;/</span><span class="n">RatePlans</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="n">RoomStay</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="n">RoomStays</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="n">HotelRoomList</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="n">HotelRoomLists</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">OTA_HotelRoomListRS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_HotelRoomListRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span> <span class="n">Version</span><span class="o">=</span><span class="s">"2.0"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">HotelRoomLists</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">HotelRoomList</span> <span class="n">HotelCode</span><span class="o">=</span><span class="s">"AL_TEST"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">RoomStays</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">RoomStay</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">RoomTypes</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">RoomType</span> <span class="n">IsRoom</span><span class="o">=</span><span class="s">"true"</span> <span class="n">RoomID</span><span class="o">=</span><span class="s">"RO_TEST"</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">RoomDescription</span> <span class="n">Name</span><span class="o">=</span><span class="s">"Test"</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;/</span><span class="n">RoomType</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">RoomTypes</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">RatePlans</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">RatePlan</span> <span class="n">RatePlanName</span><span class="o">=</span><span class="s">"BAR"</span> <span class="n">RatePlanID</span><span class="o">=</span><span class="s">"001"</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="n">RatePlan</span> <span class="n">RatePlanName</span><span class="o">=</span><span class="s">"SALE"</span> <span class="n">RatePlanID</span><span class="o">=</span><span class="s">"003"</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;/</span><span class="n">RatePlans</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">RoomStay</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">RoomStays</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">HotelRoomList</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">HotelRoomLists</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_HotelRoomListRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Type</td>
<td>integer</td>
<td>Yes</td>
<td>Always use Type=1 for Hotels</td>
</tr>
<tr>
<td>ID</td>
<td>string</td>
<td>Yes</td>
<td>Weekendesk Hotel ID</td>
</tr>
</tbody></table>
<h1 id='ari-updates'>ARI Updates</h1>
<p>The updates of Availability, Rates and Inventory are performed by the Channel partner to Weekendesk system.<br>Data receive via these updates are reflected in the product displayed on the front which are updated consequently.<br>
In details<br>
- The <b> OTA_HotelAvailNotifRQ </b> handles Availability, Restrictions and Inventory<br>
- The <b> OTA_HotelRateAmountNotifRQ </b> handles the prices for each Rate</p>
<h2 id='update-availability'>Update Availability</h2>
<p>The Channel partner can Open or Close the availability of any RatePlan of any Room mapped with Weekendesk. Once Closed, the RatePlan will not be available for sale on the Website and Applications.</p>

<aside class="success">
Remember - The Availability is per RatePlan. If your Room has more than one RatePlan <b>only the RatePlan that is specified in the request</b> will be Closed (or Opened).
</aside>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelAvailNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
<span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;AvailStatusMessages</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AvailStatusMessage</span> <span class="na">LocatorID=</span><span class="s">"1"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-09-01"</span> <span class="na">End=</span><span class="s">"2017-09-02"</span>
         <span class="na">RatePlanCode=</span><span class="s">"003"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AvailStatusMessage&gt;</span>
    <span class="nt">&lt;/AvailStatusMessages&gt;</span>
<span class="nt">&lt;/OTA_HotelAvailNotifRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST
-H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
-H <span class="s2">"Content-Type: text/xml"</span> -H <span class="s2">"Cache-Control: no-cache"</span>
-d <span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-24T23:00:26" Target="Production"&gt;
   &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
      &lt;AvailStatusMessage LocatorID="1"&gt;
         &lt;StatusApplicationControl Start="2017-09-01" End="2017-09-02" RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
         &lt;RestrictionStatus Status="Open" /&gt;
      &lt;/AvailStatusMessage&gt;
   &lt;/AvailStatusMessages&gt;
&lt;/OTA_HotelAvailNotifRQ&gt;
'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-24T23:00:26" Target="Production"&gt;
   &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
      &lt;AvailStatusMessage LocatorID="1"&gt;
         &lt;StatusApplicationControl Start="2017-09-01" End="2017-09-02"
         RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
         &lt;RestrictionStatus Status="Open" /&gt;
      &lt;/AvailStatusMessage&gt;
   &lt;/AvailStatusMessages&gt;
&lt;/OTA_HotelAvailNotifRQ&gt;
'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n
</span><span class="p">&lt;</span><span class="n">OTA_HotelAvailNotifRQ</span> <span class="n">xmlns</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.opentravel.org/OTA/2003/05\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
</span><span class="n">TimeStamp</span><span class="p">=</span><span class="err">\</span><span class="s">"2016-02-24T23:00:26\" Target=\"Production\"&gt;\r\n  
</span><span class="err">\</span><span class="n">t</span><span class="p">&lt;</span><span class="n">AvailStatusMessages</span> <span class="n">HotelCode</span><span class="p">=</span><span class="err">\</span><span class="s">"AL_TEST\"&gt;\r\n      
</span><span class="p">&lt;</span><span class="n">AvailStatusMessage</span> <span class="n">LocatorID</span><span class="p">=</span><span class="err">\</span><span class="s">"1\"&gt;\r\n         
</span><span class="p">&lt;</span><span class="n">StatusApplicationControl</span> <span class="n">Start</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-09-01\" End=\"2017-09-02\"
</span><span class="n">RatePlanCode</span><span class="p">=</span><span class="err">\</span><span class="s">"003\" InvTypeCode=\"RO_TEST\" /&gt;\r\n         
</span><span class="p">&lt;</span><span class="n">RestrictionStatus</span> <span class="n">Status</span><span class="p">=</span><span class="err">\</span><span class="s">"Open\" /&gt;\r\n      
</span><span class="p">&lt;/</span><span class="n">AvailStatusMessage</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span>   
<span class="p">&lt;/</span><span class="n">AvailStatusMessages</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span><span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRQ</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span><span class="s">", ParameterType.RequestBody);
</span><span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span>
<span class="s">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n
&lt;OTA_HotelAvailNotifRQ xmlns=\"http://www.opentravel.org/OTA/2003/05\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\" TimeStamp=\"2016-02-24T23:00:26\" Target=\"Production\"&gt;\r\n   \t&lt;AvailStatusMessages HotelCode=\"AL_TEST\"&gt;\r\n      
&lt;AvailStatusMessage LocatorID=\"1\"&gt;\r\n         
&lt;StatusApplicationControl Start=\"2018-09-01\" End=\"2018-09-02\"
RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\" /&gt;\r\n         
&lt;RestrictionStatus Status=\"Open\" /&gt;\r\n      
&lt;/AvailStatusMessage&gt;\r\n    
&lt;/AvailStatusMessages&gt;\r\n
&lt;/OTA_HotelAvailNotifRQ&gt;\r\n"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/OTA_HotelAvailNotifRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelAvailNotifRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span>
  xmlns:xsd<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema"</span>
  xmlns:xsi<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"1"</span>
  <span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">"2016-02-24T23:00:26"</span> <span class="nv">Target</span><span class="o">=</span><span class="s2">"Production"</span>&gt;
    &lt;Success /&gt;
&lt;/OTA_HotelAvailNotifRS&gt;<span class="sb">```</span>

<span class="sb">```</span>php
&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelAvailNotifRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span>
  xmlns:xsd<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema"</span>
  xmlns:xsi<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"1"</span>
  <span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">"2016-02-24T23:00:26"</span> <span class="nv">Target</span><span class="o">=</span><span class="s2">"Production"</span>&gt;
    &lt;Success /&gt;
&lt;/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="p">=</span><span class="s">"UTF-8"</span><span class="p">?&gt;</span>
<span class="p">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="p">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="p">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="p">=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="n">Target</span><span class="p">=</span><span class="s">"Production"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">Success</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="nl">xmlns:</span><span class="n">xsd</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="nl">xmlns:</span><span class="n">xsi</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="o">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="o">=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="n">Target</span><span class="o">=</span><span class="s">"Production"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Version</td>
<td>string</td>
<td>Yes</td>
<td>3.0 is the latest version</td>
</tr>
<tr>
<td>TimeStamp</td>
<td>date</td>
<td>Yes</td>
<td>TimeStamp of the request (YYY-MM-DD-THH:MM:SS)</td>
</tr>
<tr>
<td>Target</td>
<td>string</td>
<td>Yes</td>
<td>Testing=Test environment; Production=Prod environment</td>
</tr>
<tr>
<td>HotelCode</td>
<td>string</td>
<td>Yes</td>
<td>The Weekendesk Hotel ID</td>
</tr>
<tr>
<td>LocatorID</td>
<td>integer</td>
<td>Yes</td>
<td>Progressive number based on the number of AvailStatusMessage tag within the same request</td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>Yes</td>
<td>Starting date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>Yes</td>
<td>Ending date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>RatePlanCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Rate Plan for which the update is sent</td>
</tr>
<tr>
<td>InvTypeCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Room for which the update is sent</td>
</tr>
<tr>
<td>Status</td>
<td>string</td>
<td>Yes</td>
<td>Open=The rate plan is sellable; Close=Stop sale</td>
</tr>
</tbody></table>
<h2 id='update-restrictions'>Update Restrictions</h2>
<p>Weekendesk handles several types of restrictions.
<br><br>
- MinStay (Minimum Stay Through)<br>
- MaxStay (Maximum Stay Through)<br>
- CTA (Close to Arrival)<br>
- CTD (Close to Departure)<br>
<br>Each of the these restrictions can be sent in the same request and/or combined with Availability and Inventory updates.</p>

<aside class="success">
Remember - The Channel partner may decide not to send one or more restrictions. If this happens, no update will be made for this restriction.
</aside>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="nt">&lt;OTA_HotelAvailNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
<span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;AvailStatusMessages</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;AvailStatusMessage</span> <span class="na">LocatorID=</span><span class="s">"1"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-02-27"</span> <span class="na">End=</span><span class="s">"2017-02-27"</span>
           <span class="na">RatePlanCode=</span><span class="s">"003"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
             <span class="nt">&lt;LengthsOfStay&gt;</span>
                <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"3"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMinLOS"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"11"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMaxLOS"</span> <span class="nt">/&gt;</span>
             <span class="nt">&lt;/LengthsOfStay&gt;</span>
             <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Arrival"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
             <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Departure"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/AvailStatusMessage&gt;</span>
       <span class="nt">&lt;/AvailStatusMessages&gt;</span>
    <span class="nt">&lt;/OTA_HotelAvailNotifRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl
  -X POST
  -H <span class="s2">"Content-Type: text/xml"</span>
  -H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
  -d <span class="s1">'&lt;OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
  TimeStamp="2016-02-26T10:32:51" Target="Production"&gt;
       &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
          &lt;AvailStatusMessage LocatorID="1"&gt;
             &lt;StatusApplicationControl Start="2017-02-27" End="2017-02-27"
           RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
             &lt;LengthsOfStay&gt;
                &lt;LengthOfStay Time="3" MinMaxMessageType="SetMinLOS" /&gt;
                &lt;LengthOfStay Time="11" MinMaxMessageType="SetMaxLOS" /&gt;
             &lt;/LengthsOfStay&gt;
             &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
             &lt;RestrictionStatus Restriction="Departure" Status="Open" /&gt;
          &lt;/AvailStatusMessage&gt;
       &lt;/AvailStatusMessages&gt;
    &lt;/OTA_HotelAvailNotifRQ&gt;'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;OTA_HotelAvailNotifRQ
xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-26T10:32:51" Target="Production"&gt;
       &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
          &lt;AvailStatusMessage LocatorID="1"&gt;
             &lt;StatusApplicationControl Start="2017-02-27" End="2017-02-27"
           RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
             &lt;LengthsOfStay&gt;
                &lt;LengthOfStay Time="3" MinMaxMessageType="SetMinLOS" /&gt;
                &lt;LengthOfStay Time="11" MinMaxMessageType="SetMaxLOS" /&gt;
             &lt;/LengthsOfStay&gt;
             &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
             &lt;RestrictionStatus Restriction="Departure" Status="Open" /&gt;
          &lt;/AvailStatusMessage&gt;
       &lt;/AvailStatusMessages&gt;
    &lt;/OTA_HotelAvailNotifRQ&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;OTA_HotelAvailNotifRQ
</span><span class="n">xmlns</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.opentravel.org/OTA/2003/05\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
</span><span class="n">TimeStamp</span><span class="p">=</span><span class="err">\</span><span class="s">"2016-02-26T10:32:51\" Target=\"Production\"&gt;\n\t   &lt;AvailStatusMessages
</span><span class="n">HotelCode</span><span class="p">=</span><span class="err">\</span><span class="s">"AL_TEST\"&gt;\n\t      &lt;AvailStatusMessage LocatorID=\"1\"&gt;\n\t        
</span><span class="p">&lt;</span><span class="n">StatusApplicationControl</span> <span class="n">Start</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-02-27\" End=\"2017-02-27\"
</span><span class="n">RatePlanCode</span><span class="p">=</span><span class="err">\</span><span class="s">"003\" InvTypeCode=\"RO_TEST\" /&gt;\n\t       
</span><span class="p">&lt;</span><span class="n">LengthsOfStay</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">t</span>            <span class="p">&lt;</span><span class="n">LengthOfStay</span> <span class="n">Time</span><span class="p">=</span><span class="err">\</span><span class="s">"3\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMinLOS\" /&gt;\n\t            &lt;LengthOfStay Time=\"11\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMaxLOS\" /&gt;\n\t         &lt;/LengthsOfStay&gt;\n\t        
</span><span class="p">&lt;</span><span class="n">RestrictionStatus</span> <span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Arrival\" Status=\"Open\" /&gt;\n\t        
</span><span class="p">&lt;</span><span class="n">RestrictionStatus</span> <span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Departure\" Status=\"Open\" /&gt;\n\t     
</span><span class="p">&lt;/</span><span class="n">AvailStatusMessage</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">t</span>   <span class="p">&lt;/</span><span class="n">AvailStatusMessages</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">t</span><span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRQ</span><span class="p">&gt;</span><span class="s">",
</span><span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;OTA_HotelAvailNotifRQ
xmlns=\"http://www.opentravel.org/OTA/2003/05\"
xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"
xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
TimeStamp=\"2016-02-26T10:32:51\" Target=\"Production\"&gt;\n\t   &lt;AvailStatusMessages
HotelCode=\"AL_TEST\"&gt;\n\t      &lt;AvailStatusMessage LocatorID=\"1\"&gt;\n\t        
&lt;StatusApplicationControl Start=\"2017-02-27\" End=\"2017-02-27\"
RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\" /&gt;\n\t        
&lt;LengthsOfStay&gt;\n\t            &lt;LengthOfStay Time=\"3\"
MinMaxMessageType=\"SetMinLOS\" /&gt;\n\t            &lt;LengthOfStay Time=\"11\"
MinMaxMessageType=\"SetMaxLOS\" /&gt;\n\t         &lt;/LengthsOfStay&gt;\n\t        
&lt;RestrictionStatus Restriction=\"Arrival\" Status=\"Open\" /&gt;\n\t        
&lt;RestrictionStatus Restriction=\"Departure\" Status=\"Open\" /&gt;\n\t     
&lt;/AvailStatusMessage&gt;\n\t   &lt;/AvailStatusMessages&gt;\n\t&lt;/OTA_HotelAvailNotifRQ&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/OTA_HotelAvailNotifRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelAvailNotifRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span>
xmlns:xsd<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema"</span>
xmlns:xsi<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"1"</span>
<span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">"2016-02-24T23:00:26"</span> <span class="nv">Target</span><span class="o">=</span><span class="s2">"Production"</span>&gt;
    &lt;Success /&gt;
&lt;/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
<span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="err">&lt;</span>/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="p">=</span><span class="s">"UTF-8"</span><span class="p">?&gt;</span>
<span class="p">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="p">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="p">=</span><span class="s">"1"</span>
<span class="n">TimeStamp</span><span class="p">=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="n">Target</span><span class="p">=</span><span class="s">"Production"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">Success</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="nl">xmlns:</span><span class="n">xsd</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="nl">xmlns:</span><span class="n">xsi</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="o">=</span><span class="s">"1"</span>
<span class="n">TimeStamp</span><span class="o">=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="n">Target</span><span class="o">=</span><span class="s">"Production"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Version</td>
<td>string</td>
<td>Yes</td>
<td>3.0 is the latest version</td>
</tr>
<tr>
<td>TimeStamp</td>
<td>date</td>
<td>Yes</td>
<td>TimeStamp of the request (YYY-MM-DD-THH:MM:SS)</td>
</tr>
<tr>
<td>Target</td>
<td>string</td>
<td>Yes</td>
<td>Testing=Test environment; Production=Prod environment</td>
</tr>
<tr>
<td>HotelCode</td>
<td>string</td>
<td>Yes</td>
<td>The Weekendesk Hotel ID</td>
</tr>
<tr>
<td>LocatorID</td>
<td>integer</td>
<td>Yes</td>
<td>Progressive number based on the number of AvailStatusMessage tag within the same request</td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>Yes</td>
<td>Starting date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>Yes</td>
<td>Ending date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>RatePlanCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Rate Plan for which the update is sent</td>
</tr>
<tr>
<td>InvTypeCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Room for which the update is sent</td>
</tr>
<tr>
<td>Time</td>
<td>integer</td>
<td>Yes</td>
<td>Defines the Minimum (or Maximum) number of days of Stay required for a specific Rate Plan</td>
</tr>
<tr>
<td>MinMaxMessageType</td>
<td>string</td>
<td>Yes</td>
<td>SetMinLOS=updates the MinStay restriction; SetMaxLOS=updates the MaxStay restriction</td>
</tr>
<tr>
<td>Restriction</td>
<td>string</td>
<td>Yes</td>
<td>Arrival=updates the CTA restriction; Departure=updates the CTD restriction</td>
</tr>
<tr>
<td>Status</td>
<td>string</td>
<td>Yes</td>
<td>Open=The CheckIn (or CheckOut) is available for a specific RatePlan; Close=The CheckIn (or CheckOut) is NOT available for a specific RatePlan</td>
</tr>
</tbody></table>
<h2 id='update-inventory'>Update Inventory</h2>
<p>Weekendesk supports the Inventory at the RatePlan level. The Channel partner can either send the same value for all RatePlans or a different value for each RatePlan.
<br>
If the Channel partner handles the stock at the room level, is supposed to send the same value for all RatePlans, and update the same for all RatePlans when receiving a new reservation.</p>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="nt">&lt;OTA_HotelAvailNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
<span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;AvailStatusMessages</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;AvailStatusMessage</span> <span class="na">BookingLimit=</span><span class="s">"10"</span> <span class="na">LocatorID=</span><span class="s">"1"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-02-27"</span> <span class="na">End=</span><span class="s">"2017-02-27"</span>
           <span class="na">RatePlanCode=</span><span class="s">"003"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/AvailStatusMessage&gt;</span>
       <span class="nt">&lt;/AvailStatusMessages&gt;</span>
    <span class="nt">&lt;/OTA_HotelAvailNotifRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl
-X POST
-H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
-H <span class="s2">"Content-Type: text/xml"</span>
-H <span class="s2">"Cache-Control: no-cache"</span>
-d <span class="s1">'&lt;OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-26T10:32:51" Target="Production"&gt;
       &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
          &lt;AvailStatusMessage BookingLimit="10" LocatorID="1"&gt;
             &lt;StatusApplicationControl Start="2017-02-27" End="2017-02-27"
           RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
          &lt;/AvailStatusMessage&gt;
       &lt;/AvailStatusMessages&gt;
    &lt;/OTA_HotelAvailNotifRQ&gt;'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;OTA_HotelAvailNotifRQ
xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-26T10:32:51" Target="Production"&gt;
       &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
          &lt;AvailStatusMessage BookingLimit="10" LocatorID="1"&gt;
             &lt;StatusApplicationControl Start="2017-02-27" End="2017-02-27"
           RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
          &lt;/AvailStatusMessage&gt;
       &lt;/AvailStatusMessages&gt;
    &lt;/OTA_HotelAvailNotifRQ&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;OTA_HotelAvailNotifRQ
</span><span class="n">xmlns</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.opentravel.org/OTA/2003/05\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
</span><span class="n">TimeStamp</span><span class="p">=</span><span class="err">\</span><span class="s">"2016-02-26T10:32:51\" Target=\"Production\"&gt;\n\t   &lt;AvailStatusMessages
</span><span class="n">HotelCode</span><span class="p">=</span><span class="err">\</span><span class="s">"AL_TEST\"&gt;\n\t      &lt;AvailStatusMessage BookingLimit=\"10\"
</span><span class="n">LocatorID</span><span class="p">=</span><span class="err">\</span><span class="s">"1\"&gt;\n\t         &lt;StatusApplicationControl Start=\"2017-02-27\"
</span><span class="n">End</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-02-27\" RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\" /&gt;\n\t     
</span><span class="p">&lt;/</span><span class="n">AvailStatusMessage</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">t</span>   <span class="p">&lt;/</span><span class="n">AvailStatusMessages</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">t</span><span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRQ</span><span class="p">&gt;</span><span class="s">",
</span><span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;OTA_HotelAvailNotifRQ
xmlns=\"http://www.opentravel.org/OTA/2003/05\"
xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"
xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
TimeStamp=\"2016-02-26T10:32:51\" Target=\"Production\"&gt;\n\t   &lt;AvailStatusMessages
HotelCode=\"AL_TEST\"&gt;\n\t      &lt;AvailStatusMessage BookingLimit=\"10\"
LocatorID=\"1\"&gt;\n\t         &lt;StatusApplicationControl Start=\"2017-02-27\"
End=\"2017-02-27\" RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\" /&gt;\n\t     
&lt;/AvailStatusMessage&gt;\n\t   &lt;/AvailStatusMessages&gt;\n\t&lt;/OTA_HotelAvailNotifRQ&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/OTA_HotelAvailNotifRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelAvailNotifRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span>
  xmlns:xsd<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema"</span>
  xmlns:xsi<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"1"</span>
  <span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">"2016-02-26T10:32:51"</span> <span class="nv">Target</span><span class="o">=</span><span class="s2">"Production"</span>&gt;
    &lt;Success /&gt;
&lt;/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="err">&lt;</span>/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="p">=</span><span class="s">"UTF-8"</span><span class="p">?&gt;</span>
<span class="p">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="p">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="p">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="p">=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="n">Target</span><span class="p">=</span><span class="s">"Production"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">Success</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="nl">xmlns:</span><span class="n">xsd</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="nl">xmlns:</span><span class="n">xsi</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="o">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="o">=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="n">Target</span><span class="o">=</span><span class="s">"Production"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Version</td>
<td>string</td>
<td>Yes</td>
<td>3.0 is the latest version</td>
</tr>
<tr>
<td>TimeStamp</td>
<td>date</td>
<td>Yes</td>
<td>TimeStamp of the request (YYY-MM-DD-THH:MM:SS)</td>
</tr>
<tr>
<td>Target</td>
<td>string</td>
<td>Yes</td>
<td>Testing=Test environment; Production=Prod environment</td>
</tr>
<tr>
<td>HotelCode</td>
<td>string</td>
<td>Yes</td>
<td>The Weekendesk Hotel ID</td>
</tr>
<tr>
<td>LocatorID</td>
<td>integer</td>
<td>Yes</td>
<td>Progressive number based on the number of AvailStatusMessage tag within the same request</td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>Yes</td>
<td>Starting date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>Yes</td>
<td>Ending date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>RatePlanCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Rate Plan for which the update is sent</td>
</tr>
<tr>
<td>InvTypeCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Room for which the update is sent</td>
</tr>
<tr>
<td>BookingLimit</td>
<td>integer</td>
<td>Yes</td>
<td>Defines the number of Stock available for a specific Rate Plan</td>
</tr>
</tbody></table>
<h2 id='multiple-updates'>Multiple Updates</h2>
<p>(Availability, Restrictions, Inventory)</p>

<p>The Channel partner can combine multiple updates of availability, restrictions and inventory in the same request, for different room and rates, specifying each section with a <b>different LocatorID</b>s.
<br>
<aside class="warning">We highly recommend to use multiple updates only for short periods in order to avoid service disruptions. Weekendesk reserves the right of restricting the number of requests per minute if noticed a high usage of this type of request</aside></p>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelAvailNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
<span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;AvailStatusMessages</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AvailStatusMessage</span> <span class="na">BookingLimit=</span><span class="s">"29"</span> <span class="na">LocatorID=</span><span class="s">"1"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-04-23"</span> <span class="na">End=</span><span class="s">"2017-04-30"</span>
         <span class="na">RatePlanCode=</span><span class="s">"001"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;LengthsOfStay&gt;</span>
            <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"2"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMinLOS"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"99"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMaxLOS"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/LengthsOfStay&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Status=</span><span class="s">"Close"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Arrival"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Departure"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AvailStatusMessage&gt;</span>
      <span class="nt">&lt;AvailStatusMessage</span> <span class="na">BookingLimit=</span><span class="s">"20"</span> <span class="na">LocatorID=</span><span class="s">"2"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-03-23"</span> <span class="na">End=</span><span class="s">"2017-03-30"</span>
         <span class="na">RatePlanCode=</span><span class="s">"003"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;LengthsOfStay&gt;</span>
            <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"1"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMinLOS"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"99"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMaxLOS"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/LengthsOfStay&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Arrival"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Departure"</span> <span class="na">Status=</span><span class="s">"Close"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AvailStatusMessage&gt;</span>
      <span class="nt">&lt;AvailStatusMessage</span> <span class="na">BookingLimit=</span><span class="s">"20"</span> <span class="na">LocatorID=</span><span class="s">"3"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-03-23"</span> <span class="na">End=</span><span class="s">"2017-03-30"</span>
         <span class="na">RatePlanCode=</span><span class="s">"003"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST2"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;LengthsOfStay&gt;</span>
            <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"3"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMinLOS"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;LengthOfStay</span> <span class="na">Time=</span><span class="s">"99"</span> <span class="na">MinMaxMessageType=</span><span class="s">"SetMaxLOS"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/LengthsOfStay&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Arrival"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;RestrictionStatus</span> <span class="na">Restriction=</span><span class="s">"Departure"</span> <span class="na">Status=</span><span class="s">"Open"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AvailStatusMessage&gt;</span>
   <span class="nt">&lt;/AvailStatusMessages&gt;</span>
<span class="nt">&lt;/OTA_HotelAvailNotifRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl
-X POST
-H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
-H <span class="s2">"Content-Type: text/xml"</span>
-H <span class="s2">"Cache-Control: no-cache"</span>
-d <span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-26T10:32:51" Target="Production"&gt;
   &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
      &lt;AvailStatusMessage BookingLimit="29" LocatorID="1"&gt;
         &lt;StatusApplicationControl Start="2017-04-23" End="2017-04-30"
         RatePlanCode="001" InvTypeCode="RO_TEST" /&gt;
         &lt;LengthsOfStay&gt;
            &lt;LengthOfStay Time="2" MinMaxMessageType="SetMinLOS" /&gt;
            &lt;LengthOfStay Time="99" MinMaxMessageType="SetMaxLOS" /&gt;
         &lt;/LengthsOfStay&gt;
         &lt;RestrictionStatus Status="Close" /&gt;
         &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Departure" Status="Open" /&gt;
      &lt;/AvailStatusMessage&gt;
      &lt;AvailStatusMessage BookingLimit="20" LocatorID="2"&gt;
         &lt;StatusApplicationControl Start="2017-03-23" End="2017-03-30"
         RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
         &lt;LengthsOfStay&gt;
            &lt;LengthOfStay Time="1" MinMaxMessageType="SetMinLOS" /&gt;
            &lt;LengthOfStay Time="99" MinMaxMessageType="SetMaxLOS" /&gt;
         &lt;/LengthsOfStay&gt;
         &lt;RestrictionStatus Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Departure" Status="Close" /&gt;
      &lt;/AvailStatusMessage&gt;
      &lt;AvailStatusMessage BookingLimit="20" LocatorID="3"&gt;
         &lt;StatusApplicationControl Start="2017-03-23" End="2017-03-30"
         RatePlanCode="003" InvTypeCode="RO_TEST2" /&gt;
         &lt;LengthsOfStay&gt;
            &lt;LengthOfStay Time="3" MinMaxMessageType="SetMinLOS" /&gt;
            &lt;LengthOfStay Time="99" MinMaxMessageType="SetMaxLOS" /&gt;
         &lt;/LengthsOfStay&gt;
         &lt;RestrictionStatus Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Departure" Status="Open" /&gt;
      &lt;/AvailStatusMessage&gt;
   &lt;/AvailStatusMessages&gt;
&lt;/OTA_HotelAvailNotifRQ&gt;'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;?xml version="3.0" encoding="UTF-8"?&gt;
&lt;OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1"
TimeStamp="2016-02-26T10:32:51" Target="Production"&gt;
   &lt;AvailStatusMessages HotelCode="AL_TEST"&gt;
      &lt;AvailStatusMessage BookingLimit="29" LocatorID="1"&gt;
         &lt;StatusApplicationControl Start="2017-04-23" End="2017-04-30"
         RatePlanCode="001" InvTypeCode="RO_TEST" /&gt;
         &lt;LengthsOfStay&gt;
            &lt;LengthOfStay Time="2" MinMaxMessageType="SetMinLOS" /&gt;
            &lt;LengthOfStay Time="99" MinMaxMessageType="SetMaxLOS" /&gt;
         &lt;/LengthsOfStay&gt;
         &lt;RestrictionStatus Status="Close" /&gt;
         &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Departure" Status="Open" /&gt;
      &lt;/AvailStatusMessage&gt;
      &lt;AvailStatusMessage BookingLimit="20" LocatorID="2"&gt;
         &lt;StatusApplicationControl Start="2017-03-23" End="2017-03-30"
         RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
         &lt;LengthsOfStay&gt;
            &lt;LengthOfStay Time="1" MinMaxMessageType="SetMinLOS" /&gt;
            &lt;LengthOfStay Time="99" MinMaxMessageType="SetMaxLOS" /&gt;
         &lt;/LengthsOfStay&gt;
         &lt;RestrictionStatus Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Departure" Status="Close" /&gt;
      &lt;/AvailStatusMessage&gt;
      &lt;AvailStatusMessage BookingLimit="20" LocatorID="3"&gt;
         &lt;StatusApplicationControl Start="2017-03-23" End="2017-03-30"
         RatePlanCode="003" InvTypeCode="RO_TEST2" /&gt;
         &lt;LengthsOfStay&gt;
            &lt;LengthOfStay Time="3" MinMaxMessageType="SetMinLOS" /&gt;
            &lt;LengthOfStay Time="99" MinMaxMessageType="SetMaxLOS" /&gt;
         &lt;/LengthsOfStay&gt;
         &lt;RestrictionStatus Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Arrival" Status="Open" /&gt;
         &lt;RestrictionStatus Restriction="Departure" Status="Open" /&gt;
      &lt;/AvailStatusMessage&gt;
   &lt;/AvailStatusMessages&gt;
&lt;/OTA_HotelAvailNotifRQ&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;?xml version=\"1.0\"
</span><span class="n">encoding</span><span class="p">=</span><span class="err">\</span><span class="s">"UTF-8\"?&gt;\r\n&lt;OTA_HotelAvailNotifRQ
</span><span class="n">xmlns</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.opentravel.org/OTA/2003/05\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
</span><span class="n">TimeStamp</span><span class="p">=</span><span class="err">\</span><span class="s">"2016-02-26T10:32:51\" Target=\"Production\"&gt;\r\n   &lt;AvailStatusMessages
</span><span class="n">HotelCode</span><span class="p">=</span><span class="err">\</span><span class="s">"AL_TEST\"&gt;\r\n      &lt;AvailStatusMessage BookingLimit=\"29\"
</span><span class="n">LocatorID</span><span class="p">=</span><span class="err">\</span><span class="s">"1\"&gt;\r\n         &lt;StatusApplicationControl Start=\"2017-04-23\"
</span><span class="n">End</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-04-30\" RatePlanCode=\"001\" InvTypeCode=\"RO_TEST\" /&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">LengthsOfStay</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span>            <span class="p">&lt;</span><span class="n">LengthOfStay</span> <span class="n">Time</span><span class="p">=</span><span class="err">\</span><span class="s">"2\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMinLOS\" /&gt;\r\n            &lt;LengthOfStay Time=\"99\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMaxLOS\" /&gt;\r\n         &lt;/LengthsOfStay&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">RestrictionStatus</span> <span class="n">Status</span><span class="p">=</span><span class="err">\</span><span class="s">"Close\" /&gt;\r\n         &lt;RestrictionStatus
</span><span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Arrival\" Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
</span><span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Departure\" Status=\"Open\" /&gt;\r\n      &lt;/AvailStatusMessage&gt;\r\n     
</span><span class="p">&lt;</span><span class="n">AvailStatusMessage</span> <span class="n">BookingLimit</span><span class="p">=</span><span class="err">\</span><span class="s">"20\" LocatorID=\"2\"&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">StatusApplicationControl</span> <span class="n">Start</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-03-23\" End=\"2017-03-30\"
</span><span class="n">RatePlanCode</span><span class="p">=</span><span class="err">\</span><span class="s">"003\" InvTypeCode=\"RO_TEST\" /&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">LengthsOfStay</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span>            <span class="p">&lt;</span><span class="n">LengthOfStay</span> <span class="n">Time</span><span class="p">=</span><span class="err">\</span><span class="s">"1\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMinLOS\" /&gt;\r\n            &lt;LengthOfStay Time=\"99\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMaxLOS\" /&gt;\r\n         &lt;/LengthsOfStay&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">RestrictionStatus</span> <span class="n">Status</span><span class="p">=</span><span class="err">\</span><span class="s">"Open\" /&gt;\r\n         &lt;RestrictionStatus
</span><span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Arrival\" Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
</span><span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Departure\" Status=\"Close\" /&gt;\r\n     
</span><span class="p">&lt;/</span><span class="n">AvailStatusMessage</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span>      <span class="p">&lt;</span><span class="n">AvailStatusMessage</span> <span class="n">BookingLimit</span><span class="p">=</span><span class="err">\</span><span class="s">"20\"
</span><span class="n">LocatorID</span><span class="p">=</span><span class="err">\</span><span class="s">"3\"&gt;\r\n         &lt;StatusApplicationControl Start=\"2017-03-23\"
</span><span class="n">End</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-03-30\" RatePlanCode=\"003\" InvTypeCode=\"RO_TEST2\" /&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">LengthsOfStay</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span>            <span class="p">&lt;</span><span class="n">LengthOfStay</span> <span class="n">Time</span><span class="p">=</span><span class="err">\</span><span class="s">"3\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMinLOS\" /&gt;\r\n            &lt;LengthOfStay Time=\"99\"
</span><span class="n">MinMaxMessageType</span><span class="p">=</span><span class="err">\</span><span class="s">"SetMaxLOS\" /&gt;\r\n         &lt;/LengthsOfStay&gt;\r\n        
</span><span class="p">&lt;</span><span class="n">RestrictionStatus</span> <span class="n">Status</span><span class="p">=</span><span class="err">\</span><span class="s">"Open\" /&gt;\r\n         &lt;RestrictionStatus
</span><span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Arrival\" Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
</span><span class="n">Restriction</span><span class="p">=</span><span class="err">\</span><span class="s">"Departure\" Status=\"Open\" /&gt;\r\n      &lt;/AvailStatusMessage&gt;\r\n  
</span><span class="p">&lt;/</span><span class="n">AvailStatusMessages</span><span class="p">&gt;</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span><span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRQ</span><span class="p">&gt;</span><span class="s">", ParameterType.RequestBody);
</span><span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;?xml version=\"1.0\"
encoding=\"UTF-8\"?&gt;\r\n&lt;OTA_HotelAvailNotifRQ
xmlns=\"http://www.opentravel.org/OTA/2003/05\"
xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"
xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Version=\"1\"
TimeStamp=\"2016-02-26T10:32:51\" Target=\"Production\"&gt;\r\n   &lt;AvailStatusMessages
HotelCode=\"AL_TEST\"&gt;\r\n      &lt;AvailStatusMessage BookingLimit=\"29\"
LocatorID=\"1\"&gt;\r\n         &lt;StatusApplicationControl Start=\"2017-04-23\"
End=\"2017-04-30\" RatePlanCode=\"001\" InvTypeCode=\"RO_TEST\" /&gt;\r\n        
&lt;LengthsOfStay&gt;\r\n            &lt;LengthOfStay Time=\"2\"
MinMaxMessageType=\"SetMinLOS\" /&gt;\r\n            &lt;LengthOfStay Time=\"99\"
MinMaxMessageType=\"SetMaxLOS\" /&gt;\r\n         &lt;/LengthsOfStay&gt;\r\n        
&lt;RestrictionStatus Status=\"Close\" /&gt;\r\n         &lt;RestrictionStatus
Restriction=\"Arrival\" Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
Restriction=\"Departure\" Status=\"Open\" /&gt;\r\n      &lt;/AvailStatusMessage&gt;\r\n     
&lt;AvailStatusMessage BookingLimit=\"20\" LocatorID=\"2\"&gt;\r\n        
&lt;StatusApplicationControl Start=\"2017-03-23\" End=\"2017-03-30\"
RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\" /&gt;\r\n        
&lt;LengthsOfStay&gt;\r\n            &lt;LengthOfStay Time=\"1\"
MinMaxMessageType=\"SetMinLOS\" /&gt;\r\n            &lt;LengthOfStay Time=\"99\"
MinMaxMessageType=\"SetMaxLOS\" /&gt;\r\n         &lt;/LengthsOfStay&gt;\r\n        
&lt;RestrictionStatus Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
Restriction=\"Arrival\" Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
Restriction=\"Departure\" Status=\"Close\" /&gt;\r\n     
&lt;/AvailStatusMessage&gt;\r\n      &lt;AvailStatusMessage BookingLimit=\"20\"
LocatorID=\"3\"&gt;\r\n         &lt;StatusApplicationControl Start=\"2017-03-23\"
End=\"2017-03-30\" RatePlanCode=\"003\" InvTypeCode=\"RO_TEST2\" /&gt;\r\n        
&lt;LengthsOfStay&gt;\r\n            &lt;LengthOfStay Time=\"3\"
MinMaxMessageType=\"SetMinLOS\" /&gt;\r\n            &lt;LengthOfStay Time=\"99\"
MinMaxMessageType=\"SetMaxLOS\" /&gt;\r\n         &lt;/LengthsOfStay&gt;\r\n      
&lt;RestrictionStatus Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
Restriction=\"Arrival\" Status=\"Open\" /&gt;\r\n         &lt;RestrictionStatus
Restriction=\"Departure\" Status=\"Open\" /&gt;\r\n      &lt;/AvailStatusMessage&gt;\r\n  
&lt;/AvailStatusMessages&gt;\r\n&lt;/OTA_HotelAvailNotifRQ&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/OTA_HotelAvailNotifRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelAvailNotifRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span>
  xmlns:xsd<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema"</span>
  xmlns:xsi<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"1"</span>
  <span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">"2016-02-26T10:32:51"</span> <span class="nv">Target</span><span class="o">=</span><span class="s2">"Production"</span>&gt;
    &lt;Success /&gt;
&lt;/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_HotelAvailNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="err">&lt;</span>/OTA_HotelAvailNotifRS&gt;
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="p">=</span><span class="s">"UTF-8"</span><span class="p">?&gt;</span>
<span class="p">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="p">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="p">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="p">=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="n">Target</span><span class="p">=</span><span class="s">"Production"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">Success</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_HotelAvailNotifRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="nl">xmlns:</span><span class="n">xsd</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="nl">xmlns:</span><span class="n">xsi</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="o">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="o">=</span><span class="s">"2016-02-26T10:32:51"</span> <span class="n">Target</span><span class="o">=</span><span class="s">"Production"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_HotelAvailNotifRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request-6'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h3 id='query-parameters-5'>Query Parameters</h3>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Version</td>
<td>string</td>
<td>Yes</td>
<td>3.0 is the latest version</td>
</tr>
<tr>
<td>TimeStamp</td>
<td>date</td>
<td>Yes</td>
<td>TimeStamp of the request (YYY-MM-DD-THH:MM:SS)</td>
</tr>
<tr>
<td>Target</td>
<td>string</td>
<td>Yes</td>
<td>Testing=Test environment; Production=Prod environment</td>
</tr>
<tr>
<td>HotelCode</td>
<td>string</td>
<td>Yes</td>
<td>The Weekendesk Hotel ID</td>
</tr>
<tr>
<td>LocatorID</td>
<td>integer</td>
<td>Yes</td>
<td>Progressive number based on the number of AvailStatusMessage tag within the same request</td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>Yes</td>
<td>Starting date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>Yes</td>
<td>Ending date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>RatePlanCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Rate Plan for which the update is sent</td>
</tr>
<tr>
<td>InvTypeCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Room for which the update is sent</td>
</tr>
<tr>
<td>BookingLimit</td>
<td>integer</td>
<td>Yes</td>
<td>Defines the number of Stock available for a specific Rate Plan</td>
</tr>
<tr>
<td>Status</td>
<td>string</td>
<td>Yes</td>
<td>Open=The rate plan is sellable; Close=Stop sale</td>
</tr>
<tr>
<td>Type</td>
<td>integer</td>
<td>Yes</td>
<td>Defines the Minimum (or Maximum) number of days of Stay required for a specific Rate Plan</td>
</tr>
<tr>
<td>MinMaxMessageType</td>
<td>string</td>
<td>Yes</td>
<td>SetMinLOS=updates the MinStay restriction; SetMaxLOS=updates the MaxStay restriction</td>
</tr>
<tr>
<td>Restriction</td>
<td>string</td>
<td>Yes</td>
<td>Arrival=updates the CTA restriction; Departure=updates the CTD restriction</td>
</tr>
<tr>
<td>Status</td>
<td>string</td>
<td>Yes</td>
<td>Open=The CheckIn (or CheckOut) is available for a specific RatePlan; Close=The CheckIn (or CheckOut) is NOT available for a specific RatePlan</td>
</tr>
</tbody></table>
<h2 id='update-rates'>Update Rates</h2>
<p>In order to update Rates of a specific RatePlan use the following OTA request:
<br>
OTA_HotelRateAmountNotifRQ
<br>
The update can be sent for a specific RatePlanCode of a Hotel Room for a specific period.</p>
<pre class="highlight xml tab-xml"><code>HEADER
Authorization: Basic TEStTesttEsTt3st
Content-Type: text/xml

BODY
<span class="nt">&lt;OTA_HotelRateAmountNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
    <span class="na">Version=</span><span class="s">"1"</span> <span class="na">TimeStamp=</span><span class="s">"2013-07-19T10:03:09"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;RateAmountMessages</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;RateAmountMessage</span> <span class="na">LocatorID=</span><span class="s">"1"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-02-23"</span> <span class="na">End=</span><span class="s">"2017-03-30"</span>
            <span class="na">RatePlanCode=</span><span class="s">"001"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rates&gt;</span>
                <span class="nt">&lt;Rate&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                        <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"200.00"</span> <span class="na">DecimalPlaces=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/Rate&gt;</span>
            <span class="nt">&lt;/Rates&gt;</span>
        <span class="nt">&lt;/RateAmountMessage&gt;</span>
        <span class="nt">&lt;RateAmountMessage</span> <span class="na">LocatorID=</span><span class="s">"2"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-02-20"</span> <span class="na">End=</span><span class="s">"2017-03-30"</span>
            <span class="na">RatePlanCode=</span><span class="s">"003"</span> <span class="na">InvTypeCode=</span><span class="s">"RO_TEST"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rates&gt;</span>
                <span class="nt">&lt;Rate&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                        <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"100.00"</span> <span class="na">DecimalPlaces=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/Rate&gt;</span>
            <span class="nt">&lt;/Rates&gt;</span>
        <span class="nt">&lt;/RateAmountMessage&gt;</span>
    <span class="nt">&lt;/RateAmountMessages&gt;</span>
<span class="nt">&lt;/OTA_HotelRateAmountNotifRQ&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl
-X POST
-H <span class="s2">"Authorization: Basic TEStTesttEsTt3st"</span>
-H <span class="s2">"Content-Type: text/xml"</span>
-H <span class="s2">"Cache-Control: no-cache"</span>
-d <span class="s1">'&lt;OTA_HotelRateAmountNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    Version="1" TimeStamp="2013-07-19T10:03:09" Target="Production"&gt;
    &lt;RateAmountMessages HotelCode="AL_TEST"&gt;
        &lt;RateAmountMessage LocatorID="1"&gt;
            &lt;StatusApplicationControl Start="2017-02-23" End="2017-03-30"
            RatePlanCode="001" InvTypeCode="RO_TEST" /&gt;
            &lt;Rates&gt;
                &lt;Rate&gt;
                    &lt;BaseByGuestAmts&gt;
                        &lt;BaseByGuestAmt AmountAfterTax="200.00" DecimalPlaces="0" /&gt;
                    &lt;/BaseByGuestAmts&gt;
                &lt;/Rate&gt;
            &lt;/Rates&gt;
        &lt;/RateAmountMessage&gt;
        &lt;RateAmountMessage LocatorID="2"&gt;
            &lt;StatusApplicationControl Start="2017-02-20" End="2017-03-30"
            RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
            &lt;Rates&gt;
                &lt;Rate&gt;
                    &lt;BaseByGuestAmts&gt;
                        &lt;BaseByGuestAmt AmountAfterTax="100.00" DecimalPlaces="0" /&gt;
                    &lt;/BaseByGuestAmts&gt;
                &lt;/Rate&gt;
            &lt;/Rates&gt;
        &lt;/RateAmountMessage&gt;
    &lt;/RateAmountMessages&gt;
&lt;/OTA_HotelRateAmountNotifRQ&gt;'</span> <span class="s2">"http://qualification-ari.weekendesk.com/ari/"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://qualification-ari.weekendesk.com/ari/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'cache-control'</span> <span class="o">=&gt;</span> <span class="s1">'no-cache'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'text/xml'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic TEStTesttEsTt3st'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;OTA_HotelRateAmountNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    Version="1" TimeStamp="2013-07-19T10:03:09" Target="Production"&gt;
    &lt;RateAmountMessages HotelCode="AL_TEST"&gt;
        &lt;RateAmountMessage LocatorID="1"&gt;
            &lt;StatusApplicationControl Start="2017-02-23" End="2017-03-30"
            RatePlanCode="001" InvTypeCode="RO_TEST" /&gt;
            &lt;Rates&gt;
                &lt;Rate&gt;
                    &lt;BaseByGuestAmts&gt;
                        &lt;BaseByGuestAmt AmountAfterTax="200.00" DecimalPlaces="0" /&gt;
                    &lt;/BaseByGuestAmts&gt;
                &lt;/Rate&gt;
            &lt;/Rates&gt;
        &lt;/RateAmountMessage&gt;
        &lt;RateAmountMessage LocatorID="2"&gt;
            &lt;StatusApplicationControl Start="2017-02-20" End="2017-03-30"
            RatePlanCode="003" InvTypeCode="RO_TEST" /&gt;
            &lt;Rates&gt;
                &lt;Rate&gt;
                    &lt;BaseByGuestAmts&gt;
                        &lt;BaseByGuestAmt AmountAfterTax="100.00" DecimalPlaces="0" /&gt;
                    &lt;/BaseByGuestAmts&gt;
                &lt;/Rate&gt;
            &lt;/Rates&gt;
        &lt;/RateAmountMessage&gt;
    &lt;/RateAmountMessages&gt;
&lt;/OTA_HotelRateAmountNotifRQ&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"text/xml"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"text/xml"</span><span class="p">,</span> <span class="s">"&lt;OTA_HotelRateAmountNotifRQ
</span><span class="n">xmlns</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.opentravel.org/OTA/2003/05\"\n   
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance\"
</span><span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="p">=</span><span class="err">\</span><span class="s">"http://www.w3.org/2001/XMLSchema\"\n    Version=\"1\"
</span><span class="n">TimeStamp</span><span class="p">=</span><span class="err">\</span><span class="s">"2013-07-19T10:03:09\" Target=\"Production\"&gt;\n    &lt;RateAmountMessages
</span><span class="n">HotelCode</span><span class="p">=</span><span class="err">\</span><span class="s">"AL_TEST\"&gt;\n        &lt;RateAmountMessage LocatorID=\"1\"&gt;\n           
</span><span class="p">&lt;</span><span class="n">StatusApplicationControl</span> <span class="n">Start</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-02-23\" End=\"2017-03-30\"
</span><span class="n">RatePlanCode</span><span class="p">=</span><span class="err">\</span><span class="s">"001\" InvTypeCode=\"RO_TEST\" /&gt;\n           
</span><span class="p">&lt;</span><span class="n">Rates</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>                <span class="p">&lt;</span><span class="n">Rate</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>                   
<span class="p">&lt;</span><span class="n">BaseByGuestAmts</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>                        <span class="p">&lt;</span><span class="n">BaseByGuestAmt</span> <span class="n">AmountAfterTax</span><span class="p">=</span><span class="err">\</span><span class="s">"200.00\"
</span><span class="n">DecimalPlaces</span><span class="p">=</span><span class="err">\</span><span class="s">"0\" /&gt;\n                    &lt;/BaseByGuestAmts&gt;\n               
</span><span class="p">&lt;/</span><span class="n">Rate</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>            <span class="p">&lt;/</span><span class="n">Rates</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>        <span class="p">&lt;/</span><span class="n">RateAmountMessage</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>       
<span class="p">&lt;</span><span class="n">RateAmountMessage</span> <span class="n">LocatorID</span><span class="p">=</span><span class="err">\</span><span class="s">"2\"&gt;\n            &lt;StatusApplicationControl
</span><span class="n">Start</span><span class="p">=</span><span class="err">\</span><span class="s">"2017-02-20\" End=\"2017-03-30\" RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\"
</span><span class="p">/&gt;</span><span class="err">\</span><span class="n">n</span>            <span class="p">&lt;</span><span class="n">Rates</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>                <span class="p">&lt;</span><span class="n">Rate</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>                   
<span class="p">&lt;</span><span class="n">BaseByGuestAmts</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>                        <span class="p">&lt;</span><span class="n">BaseByGuestAmt</span> <span class="n">AmountAfterTax</span><span class="p">=</span><span class="err">\</span><span class="s">"100.00\"
</span><span class="n">DecimalPlaces</span><span class="p">=</span><span class="err">\</span><span class="s">"0\" /&gt;\n                    &lt;/BaseByGuestAmts&gt;\n               
</span><span class="p">&lt;/</span><span class="n">Rate</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>            <span class="p">&lt;/</span><span class="n">Rates</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>        <span class="p">&lt;/</span><span class="n">RateAmountMessage</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span>   
<span class="p">&lt;/</span><span class="n">RateAmountMessages</span><span class="p">&gt;</span><span class="err">\</span><span class="n">n</span><span class="p">&lt;/</span><span class="n">OTA_HotelRateAmountNotifRQ</span><span class="p">&gt;</span><span class="s">", ParameterType.RequestBody);
</span><span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"text/xml"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;OTA_HotelRateAmountNotifRQ
xmlns=\"http://www.opentravel.org/OTA/2003/05\"\n   
xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"
xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n    Version=\"1\"
TimeStamp=\"2013-07-19T10:03:09\" Target=\"Production\"&gt;\n    &lt;RateAmountMessages
HotelCode=\"AL_TEST\"&gt;\n        &lt;RateAmountMessage LocatorID=\"1\"&gt;\n           
&lt;StatusApplicationControl Start=\"2017-02-23\" End=\"2017-03-30\"
RatePlanCode=\"001\" InvTypeCode=\"RO_TEST\" /&gt;\n           
&lt;Rates&gt;\n                &lt;Rate&gt;\n                   
&lt;BaseByGuestAmts&gt;\n                        &lt;BaseByGuestAmt AmountAfterTax=\"200.00\"
DecimalPlaces=\"0\" /&gt;\n                    &lt;/BaseByGuestAmts&gt;\n               
&lt;/Rate&gt;\n            &lt;/Rates&gt;\n        &lt;/RateAmountMessage&gt;\n     
&lt;RateAmountMessage LocatorID=\"2\"&gt;\n            &lt;StatusApplicationControl
Start=\"2017-02-20\" End=\"2017-03-30\" RatePlanCode=\"003\" InvTypeCode=\"RO_TEST\"
/&gt;\n            &lt;Rates&gt;\n                &lt;Rate&gt;\n                   
&lt;BaseByGuestAmts&gt;\n                        &lt;BaseByGuestAmt AmountAfterTax=\"100.00\"
DecimalPlaces=\"0\" /&gt;\n                    &lt;/BaseByGuestAmts&gt;\n               
&lt;/Rate&gt;\n            &lt;/Rates&gt;\n        &lt;/RateAmountMessage&gt;\n   
&lt;/RateAmountMessages&gt;\n&lt;/OTA_HotelRateAmountNotifRQ&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://qualification-ari.weekendesk.com/ari/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Basic TEStTesttEsTt3st"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/xml"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<blockquote>
<p>The above request returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelRateAmountNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/OTA_HotelRateAmountNotifRS&gt;</span>
</code></pre><pre class="highlight shell tab-shell"><code>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span>?&gt;
&lt;OTA_HotelRateAmountNotifRS <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.opentravel.org/OTA/2003/05"</span>
  xmlns:xsd<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema"</span>
  xmlns:xsi<span class="o">=</span><span class="s2">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="nv">Version</span><span class="o">=</span><span class="s2">"1"</span>
  <span class="nv">TimeStamp</span><span class="o">=</span><span class="s2">"2016-02-24T23:00:26"</span> <span class="nv">Target</span><span class="o">=</span><span class="s2">"Production"</span>&gt;
    &lt;Success /&gt;
&lt;/OTA_HotelRateAmountNotifRS&gt;
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_HotelRateAmountNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="err">&lt;</span>/OTA_HotelRateAmountNotifRS&gt;```

```csharp
<span class="cp">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">"3.0"</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">?&gt;</span>
<span class="nt">&lt;OTA</span><span class="na">_HotelRateAmountNotifRS</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">Version=</span><span class="s">"1"</span>
  <span class="na">TimeStamp=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="na">Target=</span><span class="s">"Production"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Success</span> <span class="nt">/&gt;</span>
<span class="err">&lt;</span>/OTA_HotelRateAmountNotifRS&gt;
</code></pre><pre class="highlight java tab-java"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"3.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">OTA_HotelRateAmountNotifRS</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
  <span class="nl">xmlns:</span><span class="n">xsd</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span>
  <span class="nl">xmlns:</span><span class="n">xsi</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="n">Version</span><span class="o">=</span><span class="s">"1"</span>
  <span class="n">TimeStamp</span><span class="o">=</span><span class="s">"2016-02-24T23:00:26"</span> <span class="n">Target</span><span class="o">=</span><span class="s">"Production"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Success</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">OTA_HotelRateAmountNotifRS</span><span class="o">&gt;</span>
</code></pre><h3 id='http-request-7'>HTTP Request</h3>
<p>Testing:<br>
<code>POST</code> http://qualification-ari.weekendesk.com/ari/
<br>Production:<br>
<code>POST</code> http://ari.weekendesk.com/ari/</p>
<h3 id='query-parameters-6'>Query Parameters</h3>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Version</td>
<td>string</td>
<td>Yes</td>
<td>3.0 is the latest version</td>
</tr>
<tr>
<td>TimeStamp</td>
<td>date</td>
<td>Yes</td>
<td>TimeStamp of the request (YYY-MM-DD-THH:MM:SS)</td>
</tr>
<tr>
<td>Target</td>
<td>string</td>
<td>Yes</td>
<td>Testing=Test environment; Production=Prod environment</td>
</tr>
<tr>
<td>HotelCode</td>
<td>string</td>
<td>Yes</td>
<td>The Weekendesk Hotel ID</td>
</tr>
<tr>
<td>LocatorID</td>
<td>integer</td>
<td>Yes</td>
<td>Progressive number based on the number of AvailStatusMessage tag within the same request</td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>Yes</td>
<td>Starting date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>Yes</td>
<td>Ending date of the updated period (YYY-MM-DD)</td>
</tr>
<tr>
<td>RatePlanCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Rate Plan for which the update is sent</td>
</tr>
<tr>
<td>InvTypeCode</td>
<td>string</td>
<td>Yes</td>
<td>Code of the Room for which the update is sent</td>
</tr>
<tr>
<td>AmountAfterTax</td>
<td>decimal</td>
<td>Yes</td>
<td>The price for the Rate of a specific Rate Plan</td>
</tr>
<tr>
<td>DecimalPlaces</td>
<td>integer</td>
<td>No</td>
<td>Number of decimal places used in the AmountAfterTax</td>
</tr>
</tbody></table>
<h1 id='ari-read-beta-test'>ARI Read (Beta Test)</h1>
<p>Functionality under developement</p>
<h1 id='reservation-delivery'>Reservation Delivery</h1>
<p>The Reservation delivery allows the Channel partner to receive both Booking and Cancel Notifications real time via the web-service.<br>
Weekendesk Reservation API is based on XML messages based on the standards OTA (http://www.opentravel.org/)<br>
<br>
Specifically the following are used for notifying the Channel partner of a Booking or Cancellation:<br>
<br>
- OTA_HotelResRQ/RS<br>
- OTA_CancelRQ/RS<br>
<br></p>
<h2 id='receive-booking-notifications'>Receive Booking Notifications</h2>
<p>Booking notifications allows the Channel partner to be acknowledged about a new booking that entered into the Weekendesk system.<br>
Once received the notification, and successfully confirmed, it is responsability of the Channel partner to notify the hotel in order to reserve the room(s) for the stay.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p>Endpoint:<br>
<code>POST</code> https://channel-manager-endpoint.com</p>

<aside class="success">
Remember - Before starting receiving Booking Notifications <b>send the Endpoint and Credentials (if any)</b> of both your testing and production environment to your technical contact at Weekendesk.
</aside>
<h3 id='authentication-2'>Authentication</h3><pre class="highlight xml tab-xml"><code><span class="nt">&lt;POS&gt;</span>
    <span class="nt">&lt;Source&gt;</span>
      <span class="nt">&lt;RequestorID</span> <span class="na">ID=</span><span class="s">"user"</span> <span class="na">MessagePassword=</span><span class="s">"password"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Source&gt;</span>
<span class="nt">&lt;/POS&gt;</span>

</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@RequestorID</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ID</td>
<td>string</td>
<td>User provided by the Channel partner to authenticate the request</td>
</tr>
<tr>
<td>MessagePassword</td>
<td>string</td>
<td>Password provided by the Channel partner to authenticate the request</td>
</tr>
</tbody></table>
<h3 id='room-information'>Room Information</h3><pre class="highlight xml tab-xml"><code><span class="nt">&lt;RoomStays&gt;</span>
   <span class="nt">&lt;RoomStay&gt;</span>
       <span class="nt">&lt;RoomTypes&gt;</span>
           <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"RO_TEST"</span> <span class="na">RoomType=</span><span class="s">"Classic Room"</span>
                     <span class="na">NumberOfUnits=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;/RoomTypes&gt;</span>
       <span class="nt">&lt;RatePlans&gt;</span>
          <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"004"</span> <span class="na">RatePlanName=</span><span class="s">"004"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-10-31"</span> <span class="na">ExpireDate=</span><span class="s">"2017-11-01"</span><span class="nt">&gt;</span>
                 <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"116.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">&gt;</span>
                 <span class="nt">&lt;/Base&gt;</span>
              <span class="nt">&lt;/Rate&gt;</span>
           <span class="nt">&lt;/RatePlan&gt;</span>
         <span class="nt">&lt;/RatePlans&gt;</span>
       <span class="nt">&lt;GuestCounts&gt;</span>
            <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">Count=</span><span class="s">"2"</span> <span class="na">ResGuestRPH=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"1"</span> <span class="na">ResGuestRPH=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;/GuestCounts&gt;</span>
       <span class="nt">&lt;TimeSpan</span> <span class="na">Start=</span><span class="s">"2017-10-31"</span> <span class="na">End=</span><span class="s">"2017-11-01"</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;BasicPropertyInfo</span> <span class="na">BrandCode=</span><span class="s">"BC_TEST"</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span> <span class="na">HotelName=</span><span class="s">"Hotel Test"</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/RoomStay&gt;</span>
<span class="nt">&lt;/RoomStays&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@RoomType</td>
<td></td>
<td></td>
</tr>
<tr>
<td>RoomTypeCode</td>
<td>string</td>
<td>RoomCode of the Room that is being reserved</td>
</tr>
<tr>
<td>RoomType</td>
<td>string</td>
<td>Room Name of the Room that is being reserved</td>
</tr>
<tr>
<td>NumberOfUnits</td>
<td>integer</td>
<td>Number of Rooms that are being reserved</td>
</tr>
<tr>
<td>@RatePlan</td>
<td></td>
<td></td>
</tr>
<tr>
<td>RatePlanCode</td>
<td>string</td>
<td>RatePlanCode of the RatePlan that is being reserved</td>
</tr>
<tr>
<td>RatePlanName</td>
<td>string</td>
<td>RatePlan Name of the RatePlan that is being reserved</td>
</tr>
<tr>
<td>@Rate</td>
<td></td>
<td></td>
</tr>
<tr>
<td>EffectiveDate</td>
<td>date</td>
<td>StartDate of a night stay for each day that is being reserved (YYY-MM-DD)</td>
</tr>
<tr>
<td>ExpireDate</td>
<td>date</td>
<td>EndDate of a night stay for each day that is being reserved (YYY-MM-DD)</td>
</tr>
<tr>
<td>@Base</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AmountAfterTax</td>
<td>decimal</td>
<td>Day price for which a Room is being reserved at a specific Rate.</td>
</tr>
<tr>
<td>CurrencyCode</td>
<td>string</td>
<td>Currency used to specify the Day price.</td>
</tr>
<tr>
<td>@GuestCount</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AgeQualifyingCode</td>
<td>integer</td>
<td>AgeCategory of the Guests for which the Room is being reserved. 10=Adults, 8=Children, 7=Babies</td>
</tr>
<tr>
<td>Count</td>
<td>integer</td>
<td>Number of guests for a specific AgeCategory</td>
</tr>
<tr>
<td>ResGuestRPH</td>
<td>integer</td>
<td>Incremental number of GuestCount (which defines the types of AgeCategory included in this reservation)</td>
</tr>
<tr>
<td>@TimeSpan</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>Date of the CheckIn</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>Date of the CheckOut</td>
</tr>
<tr>
<td>@BasicPropertyInfo</td>
<td></td>
<td></td>
</tr>
<tr>
<td>BrandCode</td>
<td>string</td>
<td>Weekendesk Chain code of the hotel</td>
</tr>
<tr>
<td>HotelCode</td>
<td>string</td>
<td>Weekendesk Hotel code of the hotel</td>
</tr>
<tr>
<td>HotelName</td>
<td>string</td>
<td>Name of the hotel</td>
</tr>
</tbody></table>
<h3 id='services-information'>Services information</h3><pre class="highlight xml tab-xml"><code><span class="nt">&lt;Services&gt;</span>
    <span class="nt">&lt;Service</span> <span class="na">Quantity=</span><span class="s">"1"</span> <span class="na">ServicePricingType=</span><span class="s">"Per stay"</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;Price&gt;</span>
            <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"0.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/Price&gt;</span>
        <span class="nt">&lt;ServiceDetails&gt;</span>
          <span class="nt">&lt;TimeSpan</span> <span class="na">Duration=</span><span class="s">"P1D"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/ServiceDetails&gt;</span>
        <span class="nt">&lt;TPA_Extensions&gt;</span>
          <span class="nt">&lt;Description</span> <span class="na">Language=</span><span class="s">"ES"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Text&gt;</span>Supplement accomodation children<span class="nt">&lt;/Text&gt;</span>
          <span class="nt">&lt;/Description&gt;</span>
        <span class="nt">&lt;/TPA_Extensions&gt;</span>
    <span class="nt">&lt;/Service&gt;</span>
<span class="nt">&lt;/Services&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@Service</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Quantity</td>
<td>integer</td>
<td>Quantity of the service offered by the hotel within the reservation (2 dinners, 1 massage)</td>
</tr>
<tr>
<td>ServicePricingType</td>
<td>string</td>
<td>Pricing model offered for the service (Per person, per night, per room)</td>
</tr>
<tr>
<td>@Base</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AmountAfterTax</td>
<td>decimal</td>
<td>Price paid for a specific service and already included in the total price</td>
</tr>
<tr>
<td>AmountAfterTax</td>
<td>string</td>
<td>Currency in which the price is expressed</td>
</tr>
<tr>
<td>@TimeSpan</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Duration</td>
<td>string</td>
<td>The service duration<br>P1D means:<br>Period 1 day (1night)<br> P2D means:<br>Period 2 days (2 nights)</td>
</tr>
<tr>
<td>@Description</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Language</td>
<td>string</td>
<td>Language in which the service is described</td>
</tr>
<tr>
<td>Text</td>
<td>string</td>
<td>Description of the service</td>
</tr>
</tbody></table>
<h3 id='guest-information'>Guest Information</h3><pre class="highlight xml tab-xml"><code><span class="nt">&lt;ResGuest</span> <span class="na">ResGuestRPH=</span><span class="s">"1"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Profiles&gt;</span>
        <span class="nt">&lt;ProfileInfo&gt;</span>
            <span class="nt">&lt;Profile</span> <span class="na">ProfileType=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;PersonName&gt;</span>
                        <span class="nt">&lt;NamePrefix&gt;</span>Mr<span class="nt">&lt;/NamePrefix&gt;</span>
                        <span class="nt">&lt;GivenName&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/GivenName&gt;</span>
                        <span class="nt">&lt;Surname&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/Surname&gt;</span>
                    <span class="nt">&lt;/PersonName&gt;</span>
                    <span class="nt">&lt;Telephone</span> <span class="na">PhoneNumber=</span><span class="s">"1234567"</span> <span class="na">PhoneLocationType=</span><span class="s">"1"</span> <span class="na">PhoneTechType=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>test@weekendesk.com<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Address&gt;</span>
                        <span class="nt">&lt;AddressLine&gt;</span><span class="cp">&lt;![CDATA[ _]]&gt;</span><span class="nt">&lt;/AddressLine&gt;</span>
                        <span class="nt">&lt;CityName&gt;</span><span class="cp">&lt;![CDATA[Barcelona]]&gt;</span><span class="nt">&lt;/CityName&gt;</span>
                        <span class="nt">&lt;PostalCode&gt;</span><span class="cp">&lt;![CDATA[8024]]&gt;</span><span class="nt">&lt;/PostalCode&gt;</span>
                        <span class="nt">&lt;CountryName&gt;</span><span class="cp">&lt;![CDATA[Italie]]&gt;</span><span class="nt">&lt;/CountryName&gt;</span>
                    <span class="nt">&lt;/Address&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
            <span class="nt">&lt;/Profile&gt;</span>
        <span class="nt">&lt;/ProfileInfo&gt;</span>
    <span class="nt">&lt;/Profiles&gt;</span>
<span class="nt">&lt;/ResGuest&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@ResGuest</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ResGuestRPH</td>
<td>integer</td>
<td>Always set as 1 to identify the customer</td>
</tr>
<tr>
<td>AgeQualifyingCode</td>
<td>integer</td>
<td>Always set as 10 which defines the AgeCategory of the  customer (adult)</td>
</tr>
<tr>
<td>@Profile</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ProfileType</td>
<td>integer</td>
<td>Always set as 1 which defines the customer</td>
</tr>
<tr>
<td>@PersonName</td>
<td></td>
<td></td>
</tr>
<tr>
<td>NamePrefix</td>
<td>string</td>
<td>Civility of the customer</td>
</tr>
<tr>
<td>GivenName</td>
<td>CDATA</td>
<td>First name of the customer</td>
</tr>
<tr>
<td>Surname</td>
<td>CDATA</td>
<td>Last name of the customer</td>
</tr>
<tr>
<td>@Telephone</td>
<td></td>
<td></td>
</tr>
<tr>
<td>PhoneNumber</td>
<td>string</td>
<td>Phone number of the customer</td>
</tr>
<tr>
<td>PhoneLocationType</td>
<td>string</td>
<td>Fixed value set as 1</td>
</tr>
<tr>
<td>PhoneTechType</td>
<td>string</td>
<td>Fixed value set as 1</td>
</tr>
<tr>
<td>Email</td>
<td>string</td>
<td>Email of the customer</td>
</tr>
<tr>
<td>AddressLine</td>
<td>CDATA</td>
<td>Always blank - not needed</td>
</tr>
<tr>
<td>CityName</td>
<td>CDATA</td>
<td>City of the customer</td>
</tr>
<tr>
<td>PostalCode</td>
<td>CDATA</td>
<td>Postal code of the customer</td>
</tr>
<tr>
<td>CountryName</td>
<td>CDATA</td>
<td>Country of the customer</td>
</tr>
</tbody></table>
<h3 id='global-information'>Global Information</h3><pre class="highlight xml tab-xml"><code><span class="nt">&lt;ResGlobalInfo&gt;</span>
    <span class="nt">&lt;TimeSpan</span> <span class="na">Start=</span><span class="s">"2017-07-12"</span> <span class="na">End=</span><span class="s">"2017-07-14"</span> <span class="na">Duration=</span><span class="s">"P2D"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Comments&gt;</span>
        <span class="nt">&lt;Comment&gt;</span>
            <span class="nt">&lt;Text&gt;</span><span class="cp">&lt;![CDATA[2 nuits en chambre double standard vue lac pour 4 adultes. Entrée au Zoo pour 4 adultes]]&gt;</span><span class="nt">&lt;/Text&gt;</span>
        <span class="nt">&lt;/Comment&gt;</span>
    <span class="nt">&lt;/Comments&gt;</span>
    <span class="nt">&lt;Total</span> <span class="na">AmountAfterTax=</span><span class="s">"840.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;HotelReservationIDs&gt;</span>
        <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"5"</span> <span class="na">ResID_Value=</span><span class="s">"123456"</span> <span class="na">ResID_Source=</span><span class="s">"Weekendesk"</span> <span class="na">ResID_Date=</span><span class="s">"2017-06-08T09:38:30.655"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"14"</span> <span class="na">ResID_Value=</span><span class="s">"ABC123"</span> <span class="na">ResID_Source=</span><span class="s">"ChannelPartner"</span> <span class="na">ResID_Date=</span><span class="s">"2017-06-08T09:38:30.655"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/HotelReservationIDs&gt;</span>
    <span class="nt">&lt;Guarantee&gt;</span>
         <span class="nt">&lt;GuaranteesAccepted&gt;</span>
             <span class="nt">&lt;GuaranteeAccepted&gt;</span>
                 <span class="nt">&lt;PaymentCard</span> <span class="na">CardNumber=</span><span class="s">"1111222233334444"</span> <span class="na">ExpireDate=</span><span class="s">"1219"</span>
                              <span class="na">SeriesCode=</span><span class="s">"123"</span> <span class="na">CardType=</span><span class="s">"MC"</span>
                              <span class="na">CardCode=</span><span class="s">"VCC"</span> <span class="na">CardHolderName=</span><span class="s">"WEEKENDESK"</span><span class="nt">/&gt;</span>
             <span class="nt">&lt;/GuaranteeAccepted&gt;</span>
         <span class="nt">&lt;/GuaranteesAccepted&gt;</span>
     <span class="nt">&lt;/Guarantee&gt;</span>
<span class="nt">&lt;/ResGlobalInfo&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@TimeSpan</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Start</td>
<td>date</td>
<td>CheckIn date</td>
</tr>
<tr>
<td>End</td>
<td>date</td>
<td>CheckOut date</td>
</tr>
<tr>
<td>Duration</td>
<td>string</td>
<td>The booking duration:<br>P1D means:<br>Period 1 day (1night)<br>P2D means:<br>Period 2 days (2 nights)<br>P3D…Etc.</td>
</tr>
<tr>
<td>@Comment</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Text</td>
<td>CDATA</td>
<td>Description of the package booked</td>
</tr>
<tr>
<td>@Total</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AmountAfterTax</td>
<td>decimal</td>
<td>Total price of the stay booked (including services and activities)</td>
</tr>
<tr>
<td>CurrencyCode</td>
<td>string</td>
<td>Currency of the amount. Always &quot;EUR&quot;</td>
</tr>
<tr>
<td>@HotelReservationID</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ResID_Type</td>
<td>integer</td>
<td>5=Weekendesk Reservation number; 14=Channel partner reservation number</td>
</tr>
<tr>
<td>ResID_Value</td>
<td>string</td>
<td>Reservation number</td>
</tr>
<tr>
<td>ResID_Source</td>
<td>string</td>
<td>Weekendesk or ChannelPartner</td>
</tr>
<tr>
<td>ResID_Date</td>
<td>date</td>
<td>TimeStamp of integration of the reservation</td>
</tr>
<tr>
<td>@PaymentCard</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CardNumber</td>
<td>integer</td>
<td>Number of the Virtual Credit Card that should be used by the hotel</td>
</tr>
<tr>
<td>ExpireDate</td>
<td>integer</td>
<td>Expiration date of the card</td>
</tr>
<tr>
<td>SeriesCode</td>
<td>integer</td>
<td>CVV – Security number</td>
</tr>
<tr>
<td>CardType</td>
<td>string</td>
<td>Type of the credit card (MC=Mastercard)</td>
</tr>
<tr>
<td>CardCode</td>
<td>string</td>
<td>Type of card - always VCC (Virtual Credit Card)</td>
</tr>
<tr>
<td>CardHolderName</td>
<td>string</td>
<td>Card Holder Name</td>
</tr>
</tbody></table>
<h2 id='booking-response'>Booking Response</h2>
<blockquote>
<p>The above request sent to the ChannelPartner should the following  XML:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;OTA_HotelResRS</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">Version=</span><span class="s">"3.0"</span>
  <span class="na">ResResponseType=</span><span class="s">"Committed"</span>
  <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span><span class="nt">&gt;&lt;Success/&gt;</span>
  <span class="nt">&lt;HotelReservations&gt;</span>
      <span class="nt">&lt;HotelReservation&gt;</span>
        <span class="nt">&lt;ResGlobalInfo&gt;</span>
          <span class="nt">&lt;HotelReservationIDs&gt;</span>
            <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"5"</span> <span class="na">ResID_Value=</span><span class="s">"12345678"</span>
              <span class="na">ResID_Source=</span><span class="s">"Weekendesk"</span>
              <span class="na">ResID_Date=</span><span class="s">"2017-09-27T18:32:43.612"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"14"</span> <span class="na">ResID_Value=</span><span class="s">"ABCDEFG"</span>
              <span class="na">ResID_Source=</span><span class="s">"ChannelPartner"</span>
              <span class="na">ResID_Date=</span><span class="s">"2017-09-28T02:32:44.9882167+10:00"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/HotelReservationIDs&gt;</span>
        <span class="nt">&lt;/ResGlobalInfo&gt;</span>
    <span class="nt">&lt;/HotelReservation&gt;</span>
  <span class="nt">&lt;/HotelReservations&gt;</span>
<span class="nt">&lt;/OTA_HotelResRS&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ResResponseType</td>
<td>string</td>
<td>Yes</td>
<td>Always &quot;Committed&quot; if correctly saved into the Channel system</td>
</tr>
<tr>
<td>ResID_Type</td>
<td>integer</td>
<td>Yes</td>
<td>5=Weekendesk Reservation number; 14=Channel partner reservation number</td>
</tr>
<tr>
<td>ResID_Value</td>
<td>string</td>
<td>Yes</td>
<td>Reservation number</td>
</tr>
<tr>
<td>ResID_Source</td>
<td>string</td>
<td>Yes</td>
<td>Weekendesk or ChannelPartner</td>
</tr>
<tr>
<td>ResID_Date</td>
<td>date</td>
<td>Yes</td>
<td>TimeStamp of integration of the reservation</td>
</tr>
</tbody></table>

<aside class="success">
Remember — Both ResID_Type=5 and ResID_Type=14 must be returned. In case the Channel partner is not generating a new booking number can send back for the Type 14 any value.
</aside>
<h3 id='example-of-booking-request'>Example of Booking Request</h3>
<p>Here an example of a request and the response expected from the channel partner with all the elements included in the body.</p>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="3.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_HotelResRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span>
<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.opentravel.org/OTA/2003/05 OTA_HotelResRQ.xsd"</span>
<span class="na">Version=</span><span class="s">"3.0"</span>
                <span class="na">ResStatus=</span><span class="s">"Commit"</span> <span class="na">PrimaryLangID=</span><span class="s">"en-US"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;POS&gt;</span>
        <span class="nt">&lt;Source&gt;</span>
        <span class="nt">&lt;RequestorID</span> <span class="na">ID=</span><span class="s">"user"</span> <span class="na">MessagePassword=</span><span class="s">"password"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Source&gt;</span>
    <span class="nt">&lt;/POS&gt;</span>
    <span class="nt">&lt;HotelReservations&gt;</span>
        <span class="nt">&lt;HotelReservation&gt;</span>
            <span class="nt">&lt;RoomStays&gt;</span>
                <span class="nt">&lt;RoomStay&gt;</span>
                    <span class="nt">&lt;RoomTypes&gt;</span>
                        <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"RO_TEST"</span>
                        <span class="na">RoomType=</span><span class="s">"Classic Room"</span>
                                  <span class="na">NumberOfUnits=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/RoomTypes&gt;</span>
                    <span class="nt">&lt;RatePlans&gt;</span>
                                                    <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"004"</span>
                                                    <span class="na">RatePlanName=</span><span class="s">"004"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-10-31"</span>
                                      <span class="na">ExpireDate=</span><span class="s">"2017-11-01"</span><span class="nt">&gt;</span>
                                    <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"116.00"</span>
                                    <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">&gt;&lt;/Base&gt;</span>
                                <span class="nt">&lt;/Rate&gt;</span>
                            <span class="nt">&lt;/RatePlan&gt;</span>
                                            <span class="nt">&lt;/RatePlans&gt;</span>
                    <span class="nt">&lt;GuestCounts&gt;</span>
                            <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">Count=</span><span class="s">"2"</span>
                            <span class="na">ResGuestRPH=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                            <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"1"</span>
                            <span class="na">ResGuestRPH=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/GuestCounts&gt;</span>
                    <span class="nt">&lt;TimeSpan</span> <span class="na">Start=</span><span class="s">"2017-10-31"</span>
                              <span class="na">End=</span><span class="s">"2017-11-01"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;BasicPropertyInfo</span> <span class="na">BrandCode=</span><span class="s">"BC_TEST"</span> <span class="na">HotelCode=</span><span class="s">"AL_TEST"</span>
                                       <span class="na">HotelName=</span><span class="s">"Hotel Test"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/RoomStay&gt;</span>
            <span class="nt">&lt;/RoomStays&gt;</span>
            <span class="nt">&lt;Services&gt;</span>
                <span class="nt">&lt;Service</span> <span class="na">Quantity=</span><span class="s">"1"</span> <span class="na">ServicePricingType=</span><span class="s">"Per stay"</span> <span class="nt">&gt;</span>
                    <span class="nt">&lt;Price&gt;</span>
                        <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"0.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Price&gt;</span>
                    <span class="nt">&lt;ServiceDetails&gt;</span>
                        <span class="nt">&lt;TimeSpan</span> <span class="na">Duration=</span><span class="s">"P1D"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/ServiceDetails&gt;</span>
                    <span class="nt">&lt;TPA_Extensions&gt;</span>
                        <span class="nt">&lt;Description</span> <span class="na">Language=</span><span class="s">"ES"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;Text&gt;</span>Supplement accomodation children<span class="nt">&lt;/Text&gt;</span>
                        <span class="nt">&lt;/Description&gt;</span>
                    <span class="nt">&lt;/TPA_Extensions&gt;</span>
                <span class="nt">&lt;/Service&gt;</span>
            <span class="nt">&lt;/Services&gt;</span>
            <span class="nt">&lt;ResGuests&gt;</span>
                <span class="nt">&lt;ResGuest</span> <span class="na">ResGuestRPH=</span><span class="s">"1"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;Profiles&gt;</span>
                        <span class="nt">&lt;ProfileInfo&gt;</span>
                            <span class="nt">&lt;Profile</span> <span class="na">ProfileType=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;Customer&gt;</span>
                                    <span class="nt">&lt;PersonName&gt;</span>
                                        <span class="nt">&lt;NamePrefix&gt;</span>Ms<span class="nt">&lt;/NamePrefix&gt;</span>
                                        <span class="nt">&lt;GivenName&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/GivenName&gt;</span>
                                        <span class="nt">&lt;Surname&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/Surname&gt;</span>
                                    <span class="nt">&lt;/PersonName&gt;</span>
                                    <span class="nt">&lt;Telephone</span> <span class="na">PhoneNumber=</span><span class="s">"123456789"</span> <span class="na">PhoneLocationType=</span><span class="s">"1"</span> <span class="na">PhoneTechType=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                                    <span class="nt">&lt;Email&gt;</span>test@test.com<span class="nt">&lt;/Email&gt;</span>
                                    <span class="nt">&lt;Address&gt;</span>
                                        <span class="nt">&lt;AddressLine&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/AddressLine&gt;</span>
                                        <span class="nt">&lt;CityName&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/CityName&gt;</span>
                                        <span class="nt">&lt;PostalCode&gt;</span><span class="cp">&lt;![CDATA[128398]]&gt;</span><span class="nt">&lt;/PostalCode&gt;</span>
                                        <span class="nt">&lt;CountryName&gt;</span><span class="cp">&lt;![CDATA[Test]]&gt;</span><span class="nt">&lt;/CountryName&gt;</span>
                                    <span class="nt">&lt;/Address&gt;</span>
                                <span class="nt">&lt;/Customer&gt;</span>
                            <span class="nt">&lt;/Profile&gt;</span>
                        <span class="nt">&lt;/ProfileInfo&gt;</span>
                    <span class="nt">&lt;/Profiles&gt;</span>
                <span class="nt">&lt;/ResGuest&gt;</span>
            <span class="nt">&lt;/ResGuests&gt;</span>
            <span class="nt">&lt;ResGlobalInfo&gt;</span>
                <span class="nt">&lt;TimeSpan</span> <span class="na">Start=</span><span class="s">"2017-10-31"</span>
                          <span class="na">End=</span><span class="s">"2017-11-01"</span>
                          <span class="na">Duration=</span><span class="s">"P1D"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Comments&gt;</span>
                    <span class="nt">&lt;Comment&gt;</span>
                        <span class="nt">&lt;Text&gt;</span><span class="cp">&lt;![CDATA[
                            1 noche junior suite superior para 2 adultos y 1 niño. 1 desayuno continental (buffet) para 2 adultos y 1 niño
                            Buenas tardes,  tal y como hablamos por tel&amp;eacute;fono,  os indico que venimos con un beb&amp;eacute; de 2 meses por lo que necesitamos la cuna tambi&amp;eacute;n (a parte de la cama supletoria). Muchas gracias
                            Number of children:1.Extra costs for staying and/or meals of the children must be paid for directly to the hotel.
                            ]]&gt;</span><span class="nt">&lt;/Text&gt;</span>
                    <span class="nt">&lt;/Comment&gt;</span>
                    <span class="nt">&lt;Comment&gt;</span>
                            <span class="nt">&lt;Text&gt;</span><span class="cp">&lt;![CDATA[Weekendesk pagará esta reserva al hotel mediante tarjeta de crédito virtual. Importe total: 92.80 EUR EUR. La cantidad estará disponible para ser retirada desde el 01/11/2017 hasta el 01/12/2017.]]&gt;</span><span class="nt">&lt;/Text&gt;</span>
                    <span class="nt">&lt;/Comment&gt;</span>
                <span class="nt">&lt;/Comments&gt;</span>
                <span class="nt">&lt;Total</span> <span class="na">AmountAfterTax=</span><span class="s">"116.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;HotelReservationIDs&gt;</span>
                    <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"5"</span> <span class="na">ResID_Value=</span><span class="s">"12345678"</span> <span class="na">ResID_Source=</span><span class="s">"Weekendesk"</span>
                                        <span class="na">ResID_Date=</span><span class="s">"2017-09-19T17:50:41.059"</span><span class="nt">/&gt;</span>
                                            <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"14"</span> <span class="na">ResID_Value=</span><span class="s">"ABCDEFGH"</span>
                                            <span class="na">ResID_Source=</span><span class="s">"ChannelPartner"</span>
                                            <span class="na">ResID_Date=</span><span class="s">"2017-09-19T17:50:41.059"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/HotelReservationIDs&gt;</span>
            <span class="nt">&lt;Guarantee&gt;</span>
                <span class="nt">&lt;GuaranteesAccepted&gt;</span>
                    <span class="nt">&lt;GuaranteeAccepted&gt;</span>
                      <span class="nt">&lt;PaymentCard</span> <span class="na">CardNumber=</span><span class="s">"1111222233334444"</span> <span class="na">ExpireDate=</span><span class="s">"1219"</span>
                             <span class="na">SeriesCode=</span><span class="s">"123"</span> <span class="na">CardType=</span><span class="s">"MC"</span>
                             <span class="na">CardCode=</span><span class="s">"VCC"</span> <span class="na">CardHolderName=</span><span class="s">"WEEKENDESK"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/GuaranteeAccepted&gt;</span>
                <span class="nt">&lt;/GuaranteesAccepted&gt;</span>
            <span class="nt">&lt;/Guarantee&gt;</span>
          <span class="nt">&lt;/ResGlobalInfo&gt;</span>
        <span class="nt">&lt;/HotelReservation&gt;</span>
    <span class="nt">&lt;/HotelReservations&gt;</span>
<span class="nt">&lt;/OTA_HotelResRQ&gt;</span>
</code></pre><h2 id='receive-cancel-notifications'>Receive Cancel Notifications</h2>
<p>Cancellation notifications allows the Channel partner to be acknowledged about a new cancellation that has been made into the Weekendesk system.<br>
Once received the notification, and successfully confirmed, it is responsability of the Channel partner to notify the hotel in order to cancel the reservation of a previously confirmed stay.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p>Endpoint:<br>
<code>POST</code> https://channel-manager-endpoint.com</p>

<aside class="success">
Remember - Before starting receiving Cancellation Notifications <b>send the Endpoint and Credentials (if any)</b> of both your testing and production environment to your technical contact at Weekendesk.
</aside>
<h3 id='cancellation-request'>Cancellation Request</h3><pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OTA_CancelRQ</span> <span class="na">Version=</span><span class="s">"3.0"</span> <span class="na">CancelType=</span><span class="s">"Commit"</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;POS&gt;</span>
        <span class="nt">&lt;Source&gt;</span>
        <span class="nt">&lt;RequestorID</span> <span class="na">ID=</span><span class="s">"user"</span> <span class="na">MessagePassword=</span><span class="s">"password"</span> <span class="na">HotelID=</span><span class="s">"AL_TEST"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Source&gt;</span>
    <span class="nt">&lt;/POS&gt;</span>
    <span class="nt">&lt;HotelReservationIDs&gt;</span>
        <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"5"</span>
                            <span class="na">ResID_Value=</span><span class="s">"12345678"</span>
                            <span class="na">ResID_Source=</span><span class="s">"Weekendesk"</span>
                            <span class="na">ResID_Date=</span><span class="s">"2017-09-26T17:29:03.743"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;HotelReservationID</span> <span class="na">ResID_Type=</span><span class="s">"14"</span>
                            <span class="na">ResID_Value=</span><span class="s">"ABC123CDE"</span>
                            <span class="na">ResID_Source=</span><span class="s">"ChannelPartner"</span>
                            <span class="na">ResID_Date=</span><span class="s">"2017-09-26T17:29:03.743"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/HotelReservationIDs&gt;</span>
    <span class="nt">&lt;/OTA_CancelRQ&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CancelType</td>
<td>string</td>
<td>Weekendesk always send Commit</td>
</tr>
<tr>
<td>@RequestorID</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ID</td>
<td>string</td>
<td>User provided by the Channel partner to authenticate the request</td>
</tr>
<tr>
<td>MessagePassword</td>
<td>string</td>
<td>Password provided by the Channel partner to authenticate the request</td>
</tr>
<tr>
<td>@HotelReservationID</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ResID_Type</td>
<td>integer</td>
<td>5=Weekendesk Reservation number; 14=Channel partner reservation number</td>
</tr>
<tr>
<td>ResID_Value</td>
<td>string</td>
<td>Reservation number</td>
</tr>
<tr>
<td>ResID_Source</td>
<td>string</td>
<td>Weekendesk or ChannelPartner</td>
</tr>
<tr>
<td>ResID_Date</td>
<td>date</td>
<td>TimeStamp of integration of the cancellation</td>
</tr>
</tbody></table>
<h2 id='cancellation-response'>Cancellation Response</h2>
<blockquote>
<p>The above request sent to the Channel partner should the following XML :</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;OTA_CancelRS</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">Version=</span><span class="s">"3.0"</span> <span class="na">Status=</span><span class="s">"Cancelled"</span>
<span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Success/&gt;</span>
    <span class="nt">&lt;HotelReservationIDs&gt;</span>
        <span class="nt">&lt;HotelRservationID</span> <span class="na">ResID_Type=</span><span class="s">"5"</span> <span class="na">ResID_Value=</span><span class="s">"12345678"</span> <span class="na">ResID_Source=</span><span class="s">"Weekendesk"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/HotelReservationIDs&gt;</span>
<span class="nt">&lt;/OTA_CancelRS&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Status</td>
<td>string</td>
<td>Yes</td>
<td>Send &quot;Cancelled&quot; to acknowledge Weekendesk that the reservation has been successfully cancelled</td>
</tr>
<tr>
<td>ResID_Type</td>
<td>integer</td>
<td>Yes</td>
<td>5=Weekendesk Reservation number; 14=Channel partner reservation number</td>
</tr>
<tr>
<td>ResID_Value</td>
<td>string</td>
<td>Yes</td>
<td>Reservation number</td>
</tr>
<tr>
<td>ResID_Source</td>
<td>string</td>
<td>Yes</td>
<td>Weekendesk or Channel Partner</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<aside class="notice">These are all errors you can receive while sending a request to Weekendesk system. Remember once the requests respects the format and pass the validation, all errors will be returned in a form of XML message and the status will be 200.</aside>

<p>The OTA ARI API uses the following error codes:</p>

<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success -- Your request has been correctly parsed.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- Our server cannot parse your request</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>Code=&quot;A01.RIT&quot;</td>
<td>Unauthorised Client -- The IP or the credentials used by the Channel partner are not valid.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>ERROR: Hotel ID not found - The Hotel ID used in the request is not valid.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>ERROR: Rate Plan Code not found -- The Room ID used in the request is not valid.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>ERROR: Room ID not found -- The Rate Plan Code used in the request is not valid.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>ERROR: The request is missing a mandatory item -- One of the parameter used in the request is missing.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>Wrong value -- One of the values used in the request is not of the right format.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>Amount must be a positive number grater than zero -- Wrong value used in the request.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>Invalid date - Start date is before today -- The Start date used is in the past.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>Invalid date - End date should not exceed 1 year -- The updated period should be less than 1 year.</td>
</tr>
<tr>
<td>Code=&quot;2.1&quot;</td>
<td>Invalid date - Start date is after End date -- The Start date cannot be after the End date.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="xml">xml</a>
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="csharp">csharp</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
